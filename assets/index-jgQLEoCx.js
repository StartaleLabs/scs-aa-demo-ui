const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-BaZyBpry.js","assets/if-defined-ByNRz2cX.js","assets/index--lqpBvBf.js","assets/index-CtKu3gDI.css","assets/index-dz26uv-o.js","assets/index-DwpbXCBp.js","assets/ref-Cy49JFg5.js","assets/index-BZ_QF9hs.js","assets/index-BBsDIx9H.js","assets/index-uzEqaDX_.js","assets/index-_tLIcz1s.js","assets/index-DzGXq4_5.js","assets/index-kpgGDNAp.js","assets/index-RF9PomK5.js","assets/index.es-AhyaNcPu.js","assets/email-Ck3GQuOU.js","assets/index-B5Vyjkeq.js","assets/socials-DQaciH6U.js","assets/index-D49BtKZ-.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-CCIutCfD.js","assets/index-BwkLHZxl.js","assets/index-BNAbFbp2.js","assets/index-D_sE5vDe.js","assets/index-CY6mobPn.js","assets/swaps-C8Ed6MfV.js","assets/index-vMS1KzRG.js","assets/index-CvMkbeUk.js","assets/index-Dpkk8WeU.js","assets/send-BrNQoxOK.js","assets/index-DF7MqdsM.js","assets/index-ClTsYsva.js","assets/receive-CH3hnI5j.js","assets/index-CEOQkXnN.js","assets/onramp-D3QiAyuU.js","assets/index-DrGO393Z.js","assets/index-C6HcyIaL.js","assets/index-jBv-7Ev_.js","assets/transactions-b9iiq9ex.js","assets/index-DT2EosN2.js","assets/index-ByNen3Cg.js","assets/index-UgymNqLG.js","assets/index-FY7Tj-7j.js","assets/index-DSX3GjjP.js","assets/w3m-modal-CoujcxYL.js"])))=>i.map(i=>d[i]);
import{c as Rn,T as kn,U as On,E as Pn,w as xn,f as Un,k as tn,A as rn,h as Ir,a as Dn,V as Ln,t as Ns,_ as Me}from"./index--lqpBvBf.js";import{x as Mn}from"./index.es-AhyaNcPu.js";function bs(t,e={}){const{key:r="fallback",name:s="Fallback",rank:n=!1,shouldThrow:a=Bn,retryCount:o,retryDelay:i}=e;return({chain:d,pollingInterval:l=4e3,timeout:p,...h})=>{let C=t,w=()=>{};const z=Rn({key:r,name:s,async request({method:g,params:b}){let k;const ne=async($=0)=>{const X=C[$]({...h,chain:d,retryCount:0,timeout:p});try{const he=await X.request({method:g,params:b});return w({method:g,params:b,response:he,transport:X,status:"success"}),he}catch(he){if(w({error:he,method:g,params:b,transport:X,status:"error"}),a(he)||$===C.length-1||(k??(k=C.slice($+1).some(Oe=>{const{include:Le,exclude:Tr}=Oe({chain:d}).config.methods||{};return Le?Le.includes(g):Tr?!Tr.includes(g):!0})),!k))throw he;return ne($+1)}};return ne()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:g=>w=g,transports:C.map(g=>g({chain:d,retryCount:0}))});if(n){const g=typeof n=="object"?n:{};Wn({chain:d,interval:g.interval??l,onTransports:b=>C=b,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:C,weights:g.weights})}return z}}function Bn(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===kn.code||t.code===On.code||Pn.nodeMessage.test(t.message)||t.code===5e3))}function Wn({chain:t,interval:e=4e3,onTransports:r,ping:s,sampleCount:n=10,timeout:a=1e3,transports:o,weights:i={}}){const{stability:d=.7,latency:l=.3}=i,p=[],h=async()=>{const C=await Promise.all(o.map(async g=>{const b=g({chain:t,retryCount:0,timeout:a}),k=Date.now();let ne,$;try{await(s?s({transport:b}):b.request({method:"net_listening"})),$=1}catch{$=0}finally{ne=Date.now()}return{latency:ne-k,success:$}}));p.push(C),p.length>n&&p.shift();const w=Math.max(...p.map(g=>Math.max(...g.map(({latency:b})=>b)))),z=o.map((g,b)=>{const k=p.map(Oe=>Oe[b].latency),$=1-k.reduce((Oe,Le)=>Oe+Le,0)/k.length/w,X=p.map(Oe=>Oe[b].success),he=X.reduce((Oe,Le)=>Oe+Le,0)/X.length;return he===0?[0,b]:[l*$+d*he,b]}).sort((g,b)=>b[0]-g[0]);r(z.map(([,g])=>o[g])),await xn(e),h()};h()}const $n=Symbol(),Ts=Object.getPrototypeOf,hs=new WeakMap,Fn=t=>t&&(hs.has(t)?hs.get(t):Ts(t)===Object.prototype||Ts(t)===Array.prototype),jn=t=>Fn(t)&&t[$n]||null,Ss=(t,e=!0)=>{hs.set(t,e)},Lr={},Qr=t=>typeof t=="object"&&t!==null,at=new WeakMap,Zt=new WeakSet,Hn=(t=Object.is,e=(l,p)=>new Proxy(l,p),r=l=>Qr(l)&&!Zt.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),s=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},n=new WeakMap,a=(l,p,h=s)=>{const C=n.get(l);if((C==null?void 0:C[0])===p)return C[1];const w=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Ss(w,!0),n.set(l,[p,w]),Reflect.ownKeys(l).forEach(z=>{if(Object.getOwnPropertyDescriptor(w,z))return;const g=Reflect.get(l,z),{enumerable:b}=Reflect.getOwnPropertyDescriptor(l,z),k={value:g,enumerable:b,configurable:!0};if(Zt.has(g))Ss(g,!1);else if(g instanceof Promise)delete k.value,k.get=()=>h(g);else if(at.has(g)){const[ne,$]=at.get(g);k.value=a(ne,$(),h)}Object.defineProperty(w,z,k)}),Object.preventExtensions(w)},o=new WeakMap,i=[1,1],d=l=>{if(!Qr(l))throw new Error("object required");const p=o.get(l);if(p)return p;let h=i[0];const C=new Set,w=(Q,Z=++i[0])=>{h!==Z&&(h=Z,C.forEach(G=>G(Q,Z)))};let z=i[1];const g=(Q=++i[1])=>(z!==Q&&!C.size&&(z=Q,k.forEach(([Z])=>{const G=Z[1](Q);G>h&&(h=G)})),h),b=Q=>(Z,G)=>{const Ae=[...Z];Ae[1]=[Q,...Ae[1]],w(Ae,G)},k=new Map,ne=(Q,Z)=>{if((Lr?"production":void 0)!=="production"&&k.has(Q))throw new Error("prop listener already exists");if(C.size){const G=Z[3](b(Q));k.set(Q,[Z,G])}else k.set(Q,[Z])},$=Q=>{var Z;const G=k.get(Q);G&&(k.delete(Q),(Z=G[1])==null||Z.call(G))},X=Q=>(C.add(Q),C.size===1&&k.forEach(([G,Ae],It)=>{if((Lr?"production":void 0)!=="production"&&Ae)throw new Error("remove already exists");const Ht=G[3](b(It));k.set(It,[G,Ht])}),()=>{C.delete(Q),C.size===0&&k.forEach(([G,Ae],It)=>{Ae&&(Ae(),k.set(It,[G]))})}),he=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),Le=e(he,{deleteProperty(Q,Z){const G=Reflect.get(Q,Z);$(Z);const Ae=Reflect.deleteProperty(Q,Z);return Ae&&w(["delete",[Z],G]),Ae},set(Q,Z,G,Ae){const It=Reflect.has(Q,Z),Ht=Reflect.get(Q,Z,Ae);if(It&&(t(Ht,G)||o.has(G)&&t(Ht,o.get(G))))return!0;$(Z),Qr(G)&&(G=jn(G)||G);let Sr=G;if(G instanceof Promise)G.then(tt=>{G.status="fulfilled",G.value=tt,w(["resolve",[Z],tt])}).catch(tt=>{G.status="rejected",G.reason=tt,w(["reject",[Z],tt])});else{!at.has(G)&&r(G)&&(Sr=d(G));const tt=!Zt.has(Sr)&&at.get(Sr);tt&&ne(Z,tt)}return Reflect.set(Q,Z,Sr,Ae),w(["set",[Z],G,Ht]),!0}});o.set(l,Le);const Tr=[he,g,a,X];return at.set(Le,Tr),Reflect.ownKeys(l).forEach(Q=>{const Z=Object.getOwnPropertyDescriptor(l,Q);"value"in Z&&(Le[Q]=l[Q],delete Z.value,delete Z.writable),Object.defineProperty(he,Q,Z)}),Le})=>[d,at,Zt,t,e,r,s,n,a,o,i],[Vn]=Hn();function ce(t={}){return Vn(t)}function we(t,e,r){const s=at.get(t);(Lr?"production":void 0)!=="production"&&!s&&console.warn("Please use proxy object");let n;const a=[],o=s[3];let i=!1;const l=o(p=>{a.push(p),n||(n=Promise.resolve().then(()=>{n=void 0,i&&e(a.splice(0))}))});return i=!0,()=>{i=!1,l()}}function nr(t,e){const r=at.get(t);(Lr?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[s,n,a]=r;return a(s,n(),e)}function Et(t){return Zt.add(t),t}function ye(t,e,r,s){let n=t[e];return we(t,()=>{const a=t[e];Object.is(n,a)||r(n=a)})}function zn(t){const e=ce({data:Array.from([]),has(r){return this.data.some(s=>s[0]===r)},set(r,s){const n=this.data.find(a=>a[0]===r);return n?n[1]=s:this.data.push([r,s]),this},get(r){var s;return(s=this.data.find(n=>n[0]===r))==null?void 0:s[1]},delete(r){const s=this.data.findIndex(n=>n[0]===r);return s===-1?!1:(this.data.splice(s,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(s=>{r(s[1],s[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const sn={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var Gn=20,qn=1,jt=1e6,Zn=1e6,Kn=-7,Yn=21,Jn=!1,yr="[big.js] ",bt=yr+"Invalid ",Kr=bt+"decimal places",Xn=bt+"rounding mode",nn=yr+"Division by zero",re={},ze=void 0,Qn=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function an(){function t(e){var r=this;if(!(r instanceof t))return e===ze?an():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(bt+"value");e=e===0&&1/e<0?"-0":String(e)}ea(r,e)}r.constructor=t}return t.prototype=re,t.DP=Gn,t.RM=qn,t.NE=Kn,t.PE=Yn,t.strict=Jn,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function ea(t,e){var r,s,n;if(!Qn.test(e))throw Error(bt+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),n=e.length,s=0;s<n&&e.charAt(s)=="0";)++s;if(s==n)t.c=[t.e=0];else{for(;n>0&&e.charAt(--n)=="0";);for(t.e=r-s-1,t.c=[],r=0;s<=n;)t.c[r++]=+e.charAt(s++)}return t}function Tt(t,e,r,s){var n=t.c;if(r===ze&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(Xn);if(e<1)s=r===3&&(s||!!n[0])||e===0&&(r===1&&n[0]>=5||r===2&&(n[0]>5||n[0]===5&&(s||n[1]!==ze))),n.length=1,s?(t.e=t.e-e+1,n[0]=1):n[0]=t.e=0;else if(e<n.length){if(s=r===1&&n[e]>=5||r===2&&(n[e]>5||n[e]===5&&(s||n[e+1]!==ze||n[e-1]&1))||r===3&&(s||!!n[0]),n.length=e,s){for(;++n[--e]>9;)if(n[e]=0,e===0){++t.e,n.unshift(1);break}}for(e=n.length;!n[--e];)n.pop()}return t}function St(t,e,r){var s=t.e,n=t.c.join(""),a=n.length;if(e)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)n="0"+n;n="0."+n}else if(s>0)if(++s>a)for(s-=a;s--;)n+="0";else s<a&&(n=n.slice(0,s)+"."+n.slice(s));else a>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&r?"-"+n:n}re.abs=function(){var t=new this.constructor(this);return t.s=1,t};re.cmp=function(t){var e,r=this,s=r.c,n=(t=new r.constructor(t)).c,a=r.s,o=t.s,i=r.e,d=t.e;if(!s[0]||!n[0])return s[0]?a:n[0]?-o:0;if(a!=o)return a;if(e=a<0,i!=d)return i>d^e?1:-1;for(o=(i=s.length)<(d=n.length)?i:d,a=-1;++a<o;)if(s[a]!=n[a])return s[a]>n[a]^e?1:-1;return i==d?0:i>d^e?1:-1};re.div=function(t){var e=this,r=e.constructor,s=e.c,n=(t=new r(t)).c,a=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>jt)throw Error(Kr);if(!n[0])throw Error(nn);if(!s[0])return t.s=a,t.c=[t.e=0],t;var i,d,l,p,h,C=n.slice(),w=i=n.length,z=s.length,g=s.slice(0,i),b=g.length,k=t,ne=k.c=[],$=0,X=o+(k.e=e.e-t.e)+1;for(k.s=a,a=X<0?0:X,C.unshift(0);b++<i;)g.push(0);do{for(l=0;l<10;l++){if(i!=(b=g.length))p=i>b?1:-1;else for(h=-1,p=0;++h<i;)if(n[h]!=g[h]){p=n[h]>g[h]?1:-1;break}if(p<0){for(d=b==i?n:C;b;){if(g[--b]<d[b]){for(h=b;h&&!g[--h];)g[h]=9;--g[h],g[b]+=10}g[b]-=d[b]}for(;!g[0];)g.shift()}else break}ne[$++]=p?l:++l,g[0]&&p?g[b]=s[w]||0:g=[s[w]]}while((w++<z||g[0]!==ze)&&a--);return!ne[0]&&$!=1&&(ne.shift(),k.e--,X--),$>X&&Tt(k,X,r.RM,g[0]!==ze),k};re.eq=function(t){return this.cmp(t)===0};re.gt=function(t){return this.cmp(t)>0};re.gte=function(t){return this.cmp(t)>-1};re.lt=function(t){return this.cmp(t)<0};re.lte=function(t){return this.cmp(t)<1};re.minus=re.sub=function(t){var e,r,s,n,a=this,o=a.constructor,i=a.s,d=(t=new o(t)).s;if(i!=d)return t.s=-d,a.plus(t);var l=a.c.slice(),p=a.e,h=t.c,C=t.e;if(!l[0]||!h[0])return h[0]?t.s=-d:l[0]?t=new o(a):t.s=1,t;if(i=p-C){for((n=i<0)?(i=-i,s=l):(C=p,s=h),s.reverse(),d=i;d--;)s.push(0);s.reverse()}else for(r=((n=l.length<h.length)?l:h).length,i=d=0;d<r;d++)if(l[d]!=h[d]){n=l[d]<h[d];break}if(n&&(s=l,l=h,h=s,t.s=-t.s),(d=(r=h.length)-(e=l.length))>0)for(;d--;)l[e++]=0;for(d=e;r>i;){if(l[--r]<h[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=h[r]}for(;l[--d]===0;)l.pop();for(;l[0]===0;)l.shift(),--C;return l[0]||(t.s=1,l=[C=0]),t.c=l,t.e=C,t};re.mod=function(t){var e,r=this,s=r.constructor,n=r.s,a=(t=new s(t)).s;if(!t.c[0])throw Error(nn);return r.s=t.s=1,e=t.cmp(r)==1,r.s=n,t.s=a,e?new s(r):(n=s.DP,a=s.RM,s.DP=s.RM=0,r=r.div(t),s.DP=n,s.RM=a,this.minus(r.times(t)))};re.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};re.plus=re.add=function(t){var e,r,s,n=this,a=n.constructor;if(t=new a(t),n.s!=t.s)return t.s=-t.s,n.minus(t);var o=n.e,i=n.c,d=t.e,l=t.c;if(!i[0]||!l[0])return l[0]||(i[0]?t=new a(n):t.s=n.s),t;if(i=i.slice(),e=o-d){for(e>0?(d=o,s=l):(e=-e,s=i),s.reverse();e--;)s.push(0);s.reverse()}for(i.length-l.length<0&&(s=l,l=i,i=s),e=l.length,r=0;e;i[e]%=10)r=(i[--e]=i[e]+l[e]+r)/10|0;for(r&&(i.unshift(r),++d),e=i.length;i[--e]===0;)i.pop();return t.c=i,t.e=d,t};re.pow=function(t){var e=this,r=new e.constructor("1"),s=r,n=t<0;if(t!==~~t||t<-1e6||t>Zn)throw Error(bt+"exponent");for(n&&(t=-t);t&1&&(s=s.times(e)),t>>=1,!!t;)e=e.times(e);return n?r.div(s):s};re.prec=function(t,e){if(t!==~~t||t<1||t>jt)throw Error(bt+"precision");return Tt(new this.constructor(this),t,e)};re.round=function(t,e){if(t===ze)t=0;else if(t!==~~t||t<-1e6||t>jt)throw Error(Kr);return Tt(new this.constructor(this),t+this.e+1,e)};re.sqrt=function(){var t,e,r,s=this,n=s.constructor,a=s.s,o=s.e,i=new n("0.5");if(!s.c[0])return new n(s);if(a<0)throw Error(yr+"No square root");a=Math.sqrt(+St(s,!0,!0)),a===0||a===1/0?(e=s.c.join(""),e.length+o&1||(e+="0"),a=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new n((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):t=new n(a+""),o=t.e+(n.DP+=4);do r=t,t=i.times(r.plus(s.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Tt(t,(n.DP-=4)+t.e+1,n.RM)};re.times=re.mul=function(t){var e,r=this,s=r.constructor,n=r.c,a=(t=new s(t)).c,o=n.length,i=a.length,d=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!n[0]||!a[0])return t.c=[t.e=0],t;for(t.e=d+l,o<i&&(e=n,n=a,a=e,l=o,o=i,i=l),e=new Array(l=o+i);l--;)e[l]=0;for(d=i;d--;){for(i=0,l=o+d;l>d;)i=e[l]+a[d]*n[l-d-1]+i,e[l--]=i%10,i=i/10|0;e[l]=i}for(i?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t};re.toExponential=function(t,e){var r=this,s=r.c[0];if(t!==ze){if(t!==~~t||t<0||t>jt)throw Error(Kr);for(r=Tt(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return St(r,!0,!!s)};re.toFixed=function(t,e){var r=this,s=r.c[0];if(t!==ze){if(t!==~~t||t<0||t>jt)throw Error(Kr);for(r=Tt(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return St(r,!1,!!s)};re[Symbol.for("nodejs.util.inspect.custom")]=re.toJSON=re.toString=function(){var t=this,e=t.constructor;return St(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};re.toNumber=function(){var t=+St(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(yr+"Imprecise conversion");return t};re.toPrecision=function(t,e){var r=this,s=r.constructor,n=r.c[0];if(t!==ze){if(t!==~~t||t<1||t>jt)throw Error(bt+"precision");for(r=Tt(new s(r),t,e);r.c.length<t;)r.c.push(0)}return St(r,t<=r.e||r.e<=s.NE||r.e>=s.PE,!!n)};re.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(yr+"valueOf disallowed");return St(t,t.e<=e.NE||t.e>=e.PE,!0)};var Vt=an();const ta={bigNumber(t){return t?new Vt(t):new Vt(0)},multiply(t,e){if(t===void 0||e===void 0)return new Vt(0);const r=new Vt(t),s=new Vt(e);return r.times(s)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},ra=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],sa=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],na=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var Is={};const R={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof Is<"u"?Is.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},aa={getERC20Abi:t=>R.USDT_CONTRACT_ADDRESSES.includes(t)?na:ra,getSwapAbi:()=>sa},rt={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,s,n]=e;if(!r||!s||!n)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:s,address:n}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,s]=e;if(!r||!s)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:s}}},F={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function es(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const B={setItem(t,e){Kt()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Kt())return localStorage.getItem(t)||void 0},removeItem(t){Kt()&&localStorage.removeItem(t)},clear(){Kt()&&localStorage.clear()}};function Kt(){return typeof window<"u"&&typeof localStorage<"u"}function Xe(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var Rs={};const ts=(typeof process<"u"&&typeof Rs<"u"?Rs.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Mc=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Bc="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",me={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE:ts,SECURE_SITE_DASHBOARD:`${ts}/dashboard`,SECURE_SITE_FAVICON:`${ts}/images/favicon.png`,WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},S={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=S.getActiveNamespace(),e=S.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,s=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:s}},setWalletConnectDeepLink({name:t,href:e}){try{B.setItem(F.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=B.getItem(F.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{B.removeItem(F.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{B.setItem(F.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{B.setItem(F.ACTIVE_CAIP_NETWORK_ID,t),S.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return B.getItem(F.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{B.removeItem(F.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=es(t);B.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=S.getRecentWallets();e.find(s=>s.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),B.setItem(F.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=B.getItem(F.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=es(t);B.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return B.getItem(F.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=es(t);return B.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{B.setItem(F.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return B.getItem(F.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{B.removeItem(F.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return B.getItem(F.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=B.getItem(F.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{B.setItem(F.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return B.getItem(F.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=B.getItem(F.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));B.setItem(F.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=S.getConnectedNamespaces();e.includes(t)||(e.push(t),S.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=S.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),S.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return B.getItem(F.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{B.setItem(F.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{B.removeItem(F.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=B.getItem(F.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=S.getBalanceCache();B.setItem(F.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=S.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;S.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=S.getBalanceCache();e[t.caipAddress]=t,B.setItem(F.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=B.getItem(F.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=S.getBalanceCache();B.setItem(F.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=S.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),S.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=S.getNativeBalanceCache();e[t.caipAddress]=t,B.setItem(F.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=B.getItem(F.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=S.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;S.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=S.getEnsCache();e[t.address]=t,B.setItem(F.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=S.getEnsCache();B.setItem(F.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=B.getItem(F.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=S.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;S.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=S.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},B.setItem(F.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=S.getIdentityCache();B.setItem(F.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{B.removeItem(F.PORTFOLIO_CACHE),B.removeItem(F.NATIVE_BALANCE_CACHE),B.removeItem(F.ENS_CACHE),B.removeItem(F.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{B.setItem(F.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=B.getItem(F.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r={...S.getConnections(),[e]:t};B.setItem(F.CONNECTIONS,JSON.stringify(r))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=B.getItem(F.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},U={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return U.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=me.TEN_SEC_MS:!0},isAllowedRetry(t,e=me.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+me.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...s)=>{function n(){t(...s)}r&&clearTimeout(r),r=setTimeout(n,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(U.isHttpUrl(t))return this.formatUniversalUrl(t,e);let s=t,n=r;s.includes("://")||(s=t.replaceAll("/","").replaceAll(":",""),s=`${s}://`),s.endsWith("/")||(s=`${s}/`),n&&!(n!=null&&n.endsWith("/"))&&(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${s}wc?uri=${a}`,redirectUniversalLink:n?`${n}wc?uri=${a}`:void 0,href:s}},formatUniversalUrl(t,e){if(!U.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?S.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var r,s,n;if(typeof window>"u")return!1;const t=(s=(r=window.matchMedia)==null?void 0:r.call(window,"(display-mode: standalone)"))==null?void 0:s.matches,e=(n=window==null?void 0:window.navigator)==null?void 0:n.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,s)=>{const n=new Image;n.onload=r,n.onerror=s,n.crossOrigin="anonymous",n.src=t});return Promise.race([e,U.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const s=Number(t);if(s){const n=Math.floor(s*1e3)/1e3;n&&(r=n.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var s;let r;if(t==="0")r="0";else if(typeof t=="string"){const n=Number(t);n&&(r=(s=n.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:s[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return R.W3M_API_URL},getBlockchainApiUrl(){return R.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return R.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((s,n)=>{r[s]=n}),e.sort((s,n)=>{const a=r[s.id],o=r[n.id];return a!==void 0&&o!==void 0?a-o:a!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,s]=e.split(".");return{dollars:r,pennies:s}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(s=>{const n=s[e];return r.has(n)?!1:(r.add(n),!0)})},generateSdkVersion(t,e,r){const n=t.length===0?me.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${n}-${r}`},createAccount(t,e,r,s,n){return{namespace:t,address:e,type:r,publicKey:s,path:n}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in R.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const n="provider_authorization_url=",a=t.substring(t.indexOf(n)+n.length),o=this.injectIntoUrl(decodeURIComponent(a),r,e);return t.replace(a,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const s=t.indexOf(e);if(s===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const n=t.indexOf("&",s),a=e.length,o=n!==-1?n:t.length,i=t.substring(0,s+a),d=t.substring(s+a,o),l=t.substring(n),p=d+r;return i+p+l}};async function zt(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Ar{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:s,...n}){const a=this.createUrl(n);return(await zt(a,{method:"GET",headers:e,signal:r,cache:s})).json()}async getBlob({headers:e,signal:r,...s}){const n=this.createUrl(s);return(await zt(n,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:s,...n}){const a=this.createUrl(n);return(await zt(a,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:s})).json()}async put({body:e,headers:r,signal:s,...n}){const a=this.createUrl(n);return(await zt(a,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:s})).json()}async delete({body:e,headers:r,signal:s,...n}){const a=this.createUrl(n);return(await zt(a,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:s})).json()}createUrl({path:e,params:r}){const s=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([n,a])=>{a&&s.searchParams.append(n,a)}),this.clientId&&s.searchParams.append("clientId",this.clientId),s}}const oa={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?me.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(U.isTelegram()){if(U.isIos())return t.filter(e=>e!=="google");if(U.isMac())return t.filter(e=>e!=="x");if(U.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},P=ce({features:me.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:me.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1}),f={state:P,subscribeKey(t,e){return ye(P,t,e)},setOptions(t){Object.assign(P,t)},setFeatures(t){if(!t)return;P.features||(P.features=me.DEFAULT_FEATURES);const e={...P.features,...t};P.features=e,P.features.socials&&(P.features.socials=oa.filterSocialsByPlatform(P.features.socials))},setProjectId(t){P.projectId=t},setCustomRpcUrls(t){P.customRpcUrls=t},setAllWallets(t){P.allWallets=t},setIncludeWalletIds(t){P.includeWalletIds=t},setExcludeWalletIds(t){P.excludeWalletIds=t},setFeaturedWalletIds(t){P.featuredWalletIds=t},setTokens(t){P.tokens=t},setTermsConditionsUrl(t){P.termsConditionsUrl=t},setPrivacyPolicyUrl(t){P.privacyPolicyUrl=t},setCustomWallets(t){P.customWallets=t},setIsSiweEnabled(t){P.isSiweEnabled=t},setIsUniversalProvider(t){P.isUniversalProvider=t},setSdkVersion(t){P.sdkVersion=t},setMetadata(t){P.metadata=t},setDisableAppend(t){P.disableAppend=t},setEIP6963Enabled(t){P.enableEIP6963=t},setDebug(t){P.debug=t},setEnableWalletConnect(t){P.enableWalletConnect=t},setEnableWalletGuide(t){P.enableWalletGuide=t},setEnableAuthLogger(t){P.enableAuthLogger=t},setEnableWallets(t){P.enableWallets=t},setPreferUniversalLinks(t){P.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){P.hasMultipleAddresses=t},setSIWX(t){P.siwx=t},setConnectMethodsOrder(t){P.features={...P.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){P.features={...P.features,walletFeaturesOrder:t}},setSocialsOrder(t){P.features={...P.features,socials:t}},setCollapseWallets(t){P.features={...P.features,collapseWallets:t}},setEnableEmbedded(t){P.enableEmbedded=t},setAllowUnsupportedChain(t){P.allowUnsupportedChain=t},setManualWCControl(t){P.manualWCControl=t},setEnableNetworkSwitch(t){P.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(P.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){P.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return P.universalProviderConfigOverride},getSnapshot(){return nr(P)}},ia=Object.freeze({enabled:!0,events:[]}),ca=new Ar({baseUrl:U.getAnalyticsUrl(),clientId:null}),la=5,da=60*1e3,st=ce({...ia}),ua={state:st,subscribeKey(t,e){return ye(st,t,e)},async sendError(t,e){if(!st.enabled)return;const r=Date.now();if(st.events.filter(a=>{const o=new Date(a.properties.timestamp||"").getTime();return r-o<da}).length>=la)return;const n={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};st.events.push(n);try{if(typeof window>"u")return;const{projectId:a,sdkType:o,sdkVersion:i}=f.state;await ca.post({path:"/e",params:{projectId:a,st:o,sv:i||"html-wagmi-4.2.2"},body:{eventId:U.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch(a){console.error("Error sending telemetry event:",a)}},enable(){st.enabled=!0},disable(){st.enabled=!1},clearEvents(){st.events=[]}};class ar extends Error{constructor(e,r,s){super(e),this.name="AppKitError",this.category=r,this.originalError=s,Error.captureStackTrace&&Error.captureStackTrace(this,ar)}}function ks(t,e){const r=t instanceof ar?t:new ar(t instanceof Error?t.message:String(t),e,t);throw ua.sendError(r,r.category),r}function De(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(s=>{const n=t[s];if(typeof n=="function"){let a=n;n.constructor.name==="AsyncFunction"?a=async(...o)=>{try{return await n(...o)}catch(i){return ks(i,e)}}:a=(...o)=>{try{return n(...o)}catch(i){return ks(i,e)}},r[s]=a}else r[s]=n}),r}const pa={handleMobileDeeplinkRedirect(t){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const s=e.startsWith("https")?"https":"http",n=e.split("/")[2],a=encodeURIComponent(`${s}://${n}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${a}`}u.state.activeChain===R.CHAIN.SOLANA&&t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}},Ie=ce({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),ha={state:Ie,subscribeNetworkImages(t){return we(Ie.networkImages,()=>t(Ie.networkImages))},subscribeKey(t,e){return ye(Ie,t,e)},subscribe(t){return we(Ie,()=>t(Ie))},setWalletImage(t,e){Ie.walletImages[t]=e},setNetworkImage(t,e){Ie.networkImages[t]=e},setChainImage(t,e){Ie.chainImages[t]=e},setConnectorImage(t,e){Ie.connectorImages={...Ie.connectorImages,[t]:e}},setTokenImage(t,e){Ie.tokenImages[t]=e},setCurrencyImage(t,e){Ie.currencyImages[t]=e}},Be=De(ha),fa={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},rs=ce({networkImagePromises:{}}),on={async fetchWalletImage(t){if(t)return await x._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(rs.networkImagePromises[t]||(rs.networkImagePromises[t]=x._fetchNetworkImage(t)),await rs.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Be.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Be.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,s;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((s=t==null?void 0:t.assets)!=null&&s.imageId)return Be.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Be.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Be.state.connectorImages[t.imageId]},getChainImage(t){return Be.state.networkImages[fa[t]]}},nt=ce({message:"",variant:"info",open:!1}),ma={state:nt,subscribeKey(t,e){return ye(nt,t,e)},open(t,e){const{debug:r}=f.state,{shortMessage:s,longMessage:n}=t;r&&(nt.message=s,nt.variant=e,nt.open=!0),n&&console.error(typeof n=="function"?n():n)},close(){nt.open=!1,nt.message="",nt.variant="info"}},Je=De(ma),ga=U.getAnalyticsUrl(),Ca=new Ar({baseUrl:ga,clientId:null}),_a=["MODAL_CREATED"],Ke=ce({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ie={state:Ke,subscribe(t){return we(Ke,()=>t(Ke))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=f.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=I.state.address;if(_a.includes(t.data.event)||typeof window>"u")return;await Ca.post({path:"/e",params:ie.getSdkProperties(),body:{eventId:U.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Ke.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===R.HTTP_STATUS_CODES.FORBIDDEN&&!Ke.reportedErrors.FORBIDDEN&&(Je.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Kt()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ke.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Ke.timestamp=Date.now(),Ke.data=t,(e=f.state.features)!=null&&e.analytics&&ie._sendAnalyticsEvent(Ke)}},ss={PHANTOM:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",COINBASE:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"},wa=U.getApiUrl(),Re=new Ar({baseUrl:wa,clientId:null}),Ea=40,Os=4,ya=20,j=ce({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),x={state:j,subscribeKey(t,e){return ye(j,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=f.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return f.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Re.baseUrl}/getWalletImage/${t}`,r=await Re.getBlob({path:e,params:x._getSdkProperties()});Be.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${Re.baseUrl}/public/getAssetImage/${t}`,r=await Re.getBlob({path:e,params:x._getSdkProperties()});Be.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${Re.baseUrl}/public/getAssetImage/${t}`,r=await Re.getBlob({path:e,params:x._getSdkProperties()});Be.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${Re.baseUrl}/public/getCurrencyImage/${t}`,r=await Re.getBlob({path:e,params:x._getSdkProperties()});Be.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${Re.baseUrl}/public/getTokenImage/${t}`,r=await Re.getBlob({path:e,params:x._getSdkProperties()});Be.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return U.isMobile()?t==null?void 0:t.filter(r=>r.mobile_link||r.id===ss.COINBASE||r.id===ss.PHANTOM&&u.state.activeChain==="solana"):t},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Re.get({path:"/projects/v1/origins",params:x._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=u.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!on.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>x._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=v.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>x._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>x._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>x._fetchTokenImage(e)))},async fetchWallets(t){var a;const e=t.exclude??[];x._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(ss));const s=await Re.get({path:"/getWallets",params:{...x._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(a=t.include)==null?void 0:a.join(","),exclude:e.join(",")}});return{data:x._filterWalletsByPlatform(s==null?void 0:s.data)||[],count:s==null?void 0:s.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=f.state;if(t!=null&&t.length){const e={...x._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??Os,include:t},{data:r}=await x.fetchWallets(e);r.sort((n,a)=>t.indexOf(n.id)-t.indexOf(a.id));const s=r.map(n=>n.image_id).filter(Boolean);await Promise.allSettled(s.map(n=>x._fetchWalletImage(n))),j.featured=r,j.allFeatured=r}},async fetchRecommendedWallets(){try{j.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=f.state,s=[...e??[],...r??[]].filter(Boolean),n=u.getRequestedCaipNetworkIds().join(","),a={page:1,entries:Os,include:t,exclude:s,chains:n},{data:o,count:i}=await x.fetchWallets(a),d=S.getRecentWallets(),l=o.map(h=>h.image_id).filter(Boolean),p=d.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...p].map(h=>x._fetchWalletImage(h))),j.recommended=o,j.allRecommended=o,j.count=i??0}catch{}finally{j.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:s}=f.state,n=u.getRequestedCaipNetworkIds().join(","),a=[...j.recommended.map(({id:p})=>p),...r??[],...s??[]].filter(Boolean),o={page:t,entries:Ea,include:e,exclude:a,chains:n},{data:i,count:d}=await x.fetchWallets(o),l=i.slice(0,ya).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(l.map(p=>x._fetchWalletImage(p))),j.wallets=U.uniqueBy([...j.wallets,...x._filterOutExtensions(i)],"id").filter(p=>{var h;return(h=p.chains)==null?void 0:h.some(C=>n.includes(C))}),j.count=d>j.count?d:j.count,j.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await x.fetchWallets(e);r&&r.forEach(s=>{j.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:s}=f.state,n=u.getRequestedCaipNetworkIds().join(",");j.search=[];const a={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:s,chains:n},{data:o}=await x.fetchWallets(a);ie.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const i=o.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...i.map(d=>x._fetchWalletImage(d)),U.wait(300)]),j.search=x._filterOutExtensions(o)},initPromise(t,e){const r=j.promises[t];return r||(j.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:s=!0}={}){const n=[t&&x.initPromise("connectorImages",x.fetchConnectorImages),e&&x.initPromise("featuredWallets",x.fetchFeaturedWallets),r&&x.initPromise("recommendedWallets",x.fetchRecommendedWallets),s&&x.initPromise("networkImages",x.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(n)},prefetchAnalyticsConfig(){var t;(t=f.state.features)!=null&&t.analytics&&x.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Re.get({path:"/getAnalyticsConfig",params:x._getSdkProperties()});f.setFeatures({analytics:t})}catch{f.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){j.featured=j.allFeatured,j.recommended=j.allRecommended;return}const e=u.getRequestedCaipNetworkIds().join(",");j.featured=j.allFeatured.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))}),j.recommended=j.allRecommended.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))}),j.filteredWallets=j.wallets.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))})},clearFilterByNamespaces(){j.filteredWallets=[]},setFilterByNamespace(t){if(!t){j.featured=j.allFeatured,j.recommended=j.allRecommended;return}const e=u.getRequestedCaipNetworkIds().join(",");j.featured=j.allFeatured.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))}),j.recommended=j.allRecommended.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))}),j.filteredWallets=j.wallets.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))})}},ee=ce({view:"Connect",history:["Connect"],transactionStack:[]}),Aa={state:ee,subscribeKey(t,e){return ye(ee,t,e)},pushTransactionStack(t){ee.transactionStack.push(t)},popTransactionStack(t){var r,s;const e=ee.transactionStack.pop();if(e)if(t)q.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)q.goBack();else if(e.replace){const a=ee.history.indexOf("ConnectingSiwe");a>0?q.goBackToIndex(a-1):(ue.close(!0),ee.history=[])}else e.view&&q.reset(e.view);(s=e==null?void 0:e.onSuccess)==null||s.call(e)}},push(t,e){t!==ee.view&&(ee.view=t,ee.history.push(t),ee.data=e)},reset(t,e){ee.view=t,ee.history=[t],ee.data=e},replace(t,e){ee.history.at(-1)===t||(ee.view=t,ee.history[ee.history.length-1]=t,ee.data=e)},goBack(){var e;const t=!u.state.activeCaipAddress&&q.state.view==="ConnectingFarcaster";if(ee.history.length>1&&!ee.history.includes("UnsupportedChain")){ee.history.pop();const[r]=ee.history.slice(-1);r&&(ee.view=r)}else ue.close();(e=ee.data)!=null&&e.wallet&&(ee.data.wallet=void 0),setTimeout(()=>{var r,s,n;if(t){I.setFarcasterUrl(void 0,u.state.activeChain);const a=v.getAuthConnector();(r=a==null?void 0:a.provider)==null||r.reload();const o=nr(f.state);(n=(s=a==null?void 0:a.provider)==null?void 0:s.syncDappData)==null||n.call(s,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(ee.history.length>1){ee.history=ee.history.slice(0,t+1);const[e]=ee.history.slice(-1);e&&(ee.view=e)}}},q=De(Aa),Ye=ce({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),fs={state:Ye,subscribe(t){return we(Ye,()=>t(Ye))},setThemeMode(t){Ye.themeMode=t;try{const e=v.getAuthConnector();if(e){const r=fs.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Xe(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Ye.themeVariables={...Ye.themeVariables,...t};try{const e=v.getAuthConnector();if(e){const r=fs.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Xe(Ye.themeVariables,Ye.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return nr(Ye)}},Te=De(fs),cn={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},K=ce({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...cn},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),va={state:K,subscribe(t){return we(K,()=>{t(K)})},subscribeKey(t,e){return ye(K,t,e)},initialize(t){t.forEach(e=>{const r=S.getConnectedConnectorId(e);r&&v.setConnectorId(r,e)})},setActiveConnector(t){t&&(K.activeConnector=Et(t))},setConnectors(t){t.filter(n=>!K.allConnectors.some(a=>a.id===n.id&&v.getConnectorName(a.name)===v.getConnectorName(n.name)&&a.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&K.allConnectors.push(Et(n))});const r=v.getEnabledNamespaces(),s=v.getEnabledConnectors(r);K.connectors=v.mergeMultiChainConnectors(s)},filterByNamespaces(t){Object.keys(K.filterByNamespaceMap).forEach(e=>{K.filterByNamespaceMap[e]=!1}),t.forEach(e=>{K.filterByNamespaceMap[e]=!0}),v.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){K.filterByNamespaceMap[t]=e,v.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=v.getEnabledNamespaces(),e=v.getEnabledConnectors(t),r=v.areAllNamespacesEnabled();K.connectors=v.mergeMultiChainConnectors(e),r?x.clearFilterByNamespaces():x.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(K.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return K.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(K.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=v.generateConnectorMapByName(t),r=[];return e.forEach(s=>{const n=s[0],a=(n==null?void 0:n.id)===R.CONNECTOR_ID.AUTH;s.length>1&&n?r.push({name:n.name,imageUrl:n.imageUrl,imageId:n.imageId,connectors:[...s],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(n==null?void 0:n.id)||""}):n&&r.push(n)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:s}=r,n=v.getConnectorName(s);if(!n)return;const a=e.get(n)||[];a.find(i=>i.chain===r.chain)||a.push(r),e.set(n,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(s=>s.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,s;if(t.id===R.CONNECTOR_ID.AUTH){const n=t,a=nr(f.state),o=Te.getSnapshot().themeMode,i=Te.getSnapshot().themeVariables;(r=(e=n==null?void 0:n.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),(s=n==null?void 0:n.provider)==null||s.syncTheme({themeMode:o,themeVariables:i,w3mThemeVariables:Xe(i,o)}),v.setConnectors([t])}else v.setConnectors([t])},getAuthConnector(t){var s;const e=t||u.state.activeChain,r=K.connectors.find(n=>n.id===R.CONNECTOR_ID.AUTH);if(r)return(s=r==null?void 0:r.connectors)!=null&&s.length?r.connectors.find(a=>a.chain===e):r},getAnnouncedConnectorRdns(){return K.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return K.allConnectors.find(e=>e.id===t)},getConnector(t,e){return K.allConnectors.filter(s=>s.chain===u.state.activeChain).find(s=>{var n;return s.explorerId===t||((n=s.info)==null?void 0:n.rdns)===e})},syncIfAuthConnector(t){var a,o;if(t.id!=="ID_AUTH")return;const e=t,r=nr(f.state),s=Te.getSnapshot().themeMode,n=Te.getSnapshot().themeVariables;(o=(a=e==null?void 0:e.provider)==null?void 0:a.syncDappData)==null||o.call(a,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:s,themeVariables:n,w3mThemeVariables:Xe(n,s)})},getConnectorsByNamespace(t){const e=K.allConnectors.filter(r=>r.chain===t);return v.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=v.getConnector(t.id,t.rdns);pa.handleMobileDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?q.push("ConnectingExternal",{connector:e}):q.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?v.getConnectorsByNamespace(t):v.mergeMultiChainConnectors(K.allConnectors)},setFilterByNamespace(t){K.filterByNamespace=t,K.connectors=v.getConnectors(t),x.setFilterByNamespace(t)},setConnectorId(t,e){t&&(K.activeConnectorIds={...K.activeConnectorIds,[e]:t},S.setConnectedConnectorId(e,t))},removeConnectorId(t){K.activeConnectorIds={...K.activeConnectorIds,[t]:void 0},S.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return K.activeConnectorIds[t]},isConnected(t){return t?!!K.activeConnectorIds[t]:Object.values(K.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){K.activeConnectorIds={...cn}}},v=De(va);function Rr(t,e){return v.getConnectorId(t)===e}function Na(t){const e=Array.from(u.state.chains.keys());let r=[];return t?(r.push([t,u.state.chains.get(t)]),Rr(t,R.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(s=>{s!==t&&Rr(s,R.CONNECTOR_ID.WALLET_CONNECT)&&r.push([s,u.state.chains.get(s)])}):Rr(t,R.CONNECTOR_ID.AUTH)&&e.forEach(s=>{s!==t&&Rr(s,R.CONNECTOR_ID.AUTH)&&r.push([s,u.state.chains.get(s)])})):r=Array.from(u.state.chains.entries()),r}var Mt={};const ba="https://secure.walletconnect.org/sdk",Ta=(typeof process<"u"&&typeof Mt<"u"?Mt.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||ba,Sa=(typeof process<"u"&&typeof Mt<"u"?Mt.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Ia=(typeof process<"u"&&typeof Mt<"u"?Mt.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",T={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Ce={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},gt=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),pe=ce({...gt}),Ra={state:pe,subscribeKey(t,e){return ye(pe,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=U.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){pe.message=gt.message,pe.variant=gt.variant,pe.svg=gt.svg,pe.open=gt.open,pe.autoClose=gt.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:s=gt.autoClose}){pe.open?(pe.open=!1,setTimeout(()=>{pe.message=t,pe.variant=r,pe.svg=e,pe.open=!0,pe.autoClose=s},150)):(pe.message=t,pe.variant=r,pe.svg=e,pe.open=!0,pe.autoClose=s)}},We=Ra,Jt={getSIWX(){return f.state.siwx},async initializeIfEnabled(){var a;const t=f.state.siwx,e=u.getActiveCaipAddress();if(!(t&&e))return;const[r,s,n]=e.split(":");if(u.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${s}`,n)).length)return;await ue.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),ie.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=D._getClient())==null?void 0:a.disconnect().catch(console.error)),q.reset("Connect"),We.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=f.state.siwx,e=U.getPlainAddress(u.getActiveCaipAddress()),r=u.getActiveCaipNetwork(),s=D._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!s)throw new Error("No ConnectionController client found");try{const n=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),a=n.toString();v.getConnectorId(r.chainNamespace)===R.CONNECTOR_ID.AUTH&&q.pushTransactionStack({view:null,goBack:!1,replace:!0});const i=await s.signMessage(a);await t.addSession({data:n,message:a,signature:i}),ue.close(),ie.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){const a=this.getSIWXEventProperties();(!ue.state.open||q.state.view==="ApproveTransaction")&&await ue.open({view:"SIWXSignMessage"}),a.isSmartAccount?We.showError("This application might not support Smart Accounts"):We.showError("Signature declined"),ie.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await D.disconnect():ue.close(),q.reset("Connect"),ie.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=f.state.siwx,e=U.getPlainAddress(u.getActiveCaipAddress()),r=u.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=q.state.view==="ApproveTransaction",s=q.state.view==="SIWXSignMessage";if(r||s)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var i,d,l;const s=Jt.getSIWX(),n=new Set(e.map(p=>p.split(":")[0]));if(!s||n.size!==1||!n.has("eip155"))return!1;const a=await s.createMessage({chainId:((i=u.getActiveCaipNetwork())==null?void 0:i.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:r,chains:[a.chainId,...e.filter(p=>p!==a.chainId)]});if(We.showLoading("Authenticating...",{autoClose:!1}),I.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(d=o.session.peer.metadata.icons)==null?void 0:d[0],type:"WALLET_CONNECT"},Array.from(n)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const p=o.auths.map(h=>{const C=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud,version:h.p.version||a.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:C,signature:h.s.s,cacao:h}});try{await s.setSessions(p),ie.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Jt.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),ie.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Jt.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{We.hide()}}return!0},getSIWXEventProperties(){var e,r;const t=u.state.activeChain;return{network:((e=u.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((r=I.state.preferredAccountTypes)==null?void 0:r[t])===Ce.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},oe=ce({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ka={state:oe,subscribe(t){return we(oe,()=>t(oe))},setLastNetworkInView(t){oe.lastNetworkInView=t},async fetchTransactions(t,e){var r,s;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");oe.loading=!0;try{const n=await M.fetchTransactions({account:t,cursor:oe.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),a=Yt.filterSpamTransactions(n.data),o=Yt.filterByConnectedChain(a),i=[...oe.transactions,...o];oe.loading=!1,e==="coinbase"?oe.coinbaseTransactions=Yt.groupTransactionsByYearAndMonth(oe.coinbaseTransactions,n.data):(oe.transactions=i,oe.transactionsByYear=Yt.groupTransactionsByYearAndMonth(oe.transactionsByYear,o)),oe.empty=i.length===0,oe.next=n.next?n.next:void 0}catch{const a=u.state.activeChain;ie.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:f.state.projectId,cursor:oe.next,isSmartAccount:((s=I.state.preferredAccountTypes)==null?void 0:s[a])===Ce.ACCOUNT_TYPES.SMART_ACCOUNT}}),We.showError("Failed to fetch transactions"),oe.loading=!1,oe.empty=!0,oe.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(s=>{const n=new Date(s.metadata.minedAt).getFullYear(),a=new Date(s.metadata.minedAt).getMonth(),o=r[n]??{},d=(o[a]??[]).filter(l=>l.id!==s.id);r[n]={...o,[a]:[...d,s].sort((l,p)=>new Date(p.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(s=>{var n;return((n=s.nft_info)==null?void 0:n.flags.is_spam)===!0}))},filterByConnectedChain(t){var s;const e=(s=u.state.activeCaipNetwork)==null?void 0:s.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){oe.next=void 0},resetTransactions(){oe.transactions=[],oe.transactionsByYear={},oe.lastNetworkInView=void 0,oe.loading=!1,oe.empty=!1,oe.next=void 0}},Yt=De(ka,"API_ERROR"),ae=ce({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let ft;const Oa={state:ae,subscribeKey(t,e){return ye(ae,t,e)},_getClient(){return ae._client},setClient(t){ae._client=Et(t)},async connectWalletConnect(){var t,e,r,s;if(U.isTelegram()||U.isSafari()&&U.isIos()){if(ft){await ft,ft=void 0;return}if(!U.isPairingExpired(ae==null?void 0:ae.wcPairingExpiry)){const n=ae.wcUri;ae.wcUri=n;return}ft=(e=(t=D._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),D.state.status="connecting",await ft,ft=void 0,ae.wcPairingExpiry=void 0,D.state.status="connected"}else await((s=(r=D._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:s.call(r))},async connectExternal(t,e,r=!0){var s,n;await((n=(s=D._getClient())==null?void 0:s.connectExternal)==null?void 0:n.call(s,t)),r&&u.setActiveNamespace(e)},async reconnectExternal(t){var r,s;await((s=(r=D._getClient())==null?void 0:r.reconnectExternal)==null?void 0:s.call(r,t));const e=t.chain||u.state.activeChain;e&&v.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var s;ue.setLoading(!0,u.state.activeChain);const r=v.getAuthConnector();r&&(I.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),S.setPreferredAccountTypes(I.state.preferredAccountTypes??{[e]:t}),await D.reconnectExternal(r),ue.setLoading(!1,u.state.activeChain),ie.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((s=u.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=D._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=D._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=D._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=D._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=D._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=D._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=D._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=D._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=D._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=D._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=D._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=D._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){ae.wcUri=void 0,ae.wcPairingExpiry=void 0,ae.wcLinking=void 0,ae.recentWallet=void 0,ae.status="disconnected",Yt.resetTransactions(),S.deleteWalletConnectDeepLink()},resetUri(){ae.wcUri=void 0,ae.wcPairingExpiry=void 0,ft=void 0},finalizeWcConnection(){var r,s;const{wcLinking:t,recentWallet:e}=D.state;t&&S.setWalletConnectDeepLink(t),e&&S.setAppKitRecent(e),ie.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((s=(r=q.state.data)==null?void 0:r.wallet)==null?void 0:s.name)||"Unknown"}})},setWcBasic(t){ae.wcBasic=t},setUri(t){ae.wcUri=t,ae.wcPairingExpiry=U.getPairingExpiry()},setWcLinking(t){ae.wcLinking=t},setWcError(t){ae.wcError=t,ae.buffering=!1},setRecentWallet(t){ae.recentWallet=t},setBuffering(t){ae.buffering=t},setStatus(t){ae.status=t},async disconnect(t){try{ue.setLoading(!0,t),await Jt.clearSessions(),await u.disconnect(t),ue.setLoading(!1,t),v.setFilterByNamespace(void 0)}catch(e){throw new ar("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(t,e){ae.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:r}){if(v.state.activeConnectorIds[r]===t.connectorId){const a=u.state.activeCaipNetwork;if(a){const o=`${r}:${a.id}:${e}`;I.setCaipAddress(o,r)}else console.warn(`No current network found for namespace "${r}"`)}else{const a=v.getConnector(t.connectorId);a?D.connectExternal(a,r):console.warn(`No connector found for namespace "${r}"`)}}},D=De(Oa),Rt=ce({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ge={state:Rt,subscribe(t){return we(Rt,()=>t(Rt))},subscribeOpen(t){return ye(Rt,"open",t)},set(t){Object.assign(Rt,{...Rt,...t})}},ns={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Un(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],s=parseInt(r,10);return isNaN(s)?"0x0":`0x${s.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},Ps={async getMyTokensWithBalance(t){const e=I.state.address,r=u.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const n=await this.getEIP155Balances(e,r);if(n)return this.filterLowQualityTokens(n)}const s=await M.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(s.balances)},async getEIP155Balances(t,e){var r,s;try{const n=ns.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),a=await D.getCapabilities(t);if(!((s=(r=a==null?void 0:a[n])==null?void 0:r.assetDiscovery)!=null&&s.supported))return null;const o=await D.walletGetAssets({account:t,chainFilter:[n]});return ns.isWalletGetAssetsResponse(o)?(o[n]||[]).map(d=>ns.createBalance(d,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:u.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},te=ce({tokenBalances:[],loading:!1}),Pa={state:te,subscribe(t){return we(te,()=>t(te))},subscribeKey(t,e){return ye(te,t,e)},setToken(t){t&&(te.token=Et(t))},setTokenAmount(t){te.sendTokenAmount=t},setReceiverAddress(t){te.receiverAddress=t},setReceiverProfileImageUrl(t){te.receiverProfileImageUrl=t},setReceiverProfileName(t){te.receiverProfileName=t},setNetworkBalanceInUsd(t){te.networkBalanceInUSD=t},setLoading(t){te.loading=t},async sendToken(){var t;try{switch(J.setLoading(!0),(t=u.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await J.sendEvmToken();return;case"solana":await J.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{J.setLoading(!1)}},async sendEvmToken(){var r,s,n,a;const t=u.state.activeChain,e=(r=I.state.preferredAccountTypes)==null?void 0:r[t];if(!J.state.sendTokenAmount||!J.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!J.state.token)throw new Error("A token is required");(s=J.state.token)!=null&&s.address?(ie.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ce.ACCOUNT_TYPES.SMART_ACCOUNT,token:J.state.token.address,amount:J.state.sendTokenAmount,network:((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),await J.sendERC20Token({receiverAddress:J.state.receiverAddress,tokenAddress:J.state.token.address,sendTokenAmount:J.state.sendTokenAmount,decimals:J.state.token.quantity.decimals})):(ie.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ce.ACCOUNT_TYPES.SMART_ACCOUNT,token:J.state.token.symbol||"",amount:J.state.sendTokenAmount,network:((a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),await J.sendNativeToken({receiverAddress:J.state.receiverAddress,sendTokenAmount:J.state.sendTokenAmount,decimals:J.state.token.quantity.decimals}))},async fetchTokenBalance(t){var a,o;te.loading=!0;const e=(a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,r=(o=u.state.activeCaipNetwork)==null?void 0:o.chainNamespace,s=u.state.activeCaipAddress,n=s?U.getPlainAddress(s):void 0;if(te.lastRetry&&!U.isAllowedRetry(te.lastRetry,30*me.ONE_SEC_MS))return te.loading=!1,[];try{if(n&&e&&r){const i=await Ps.getMyTokensWithBalance();return te.tokenBalances=i,te.lastRetry=void 0,i}}catch(i){te.lastRetry=Date.now(),t==null||t(i),We.showError("Token Balance Unavailable")}finally{te.loading=!1}return[]},fetchNetworkBalance(){if(te.tokenBalances.length===0)return;const t=Ps.mapBalancesToSwapTokens(te.tokenBalances);if(!t)return;const e=t.find(r=>r.address===u.getActiveNetworkTokenAddress());e&&(te.networkBalanceInUSD=e?ta.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var a,o,i,d;q.pushTransactionStack({view:null,goBack:!1});const e=t.receiverAddress,r=I.state.address,s=D.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await D.sendTransaction({chainNamespace:"eip155",to:e,address:r,data:"0x",value:s??BigInt(0)}),ie.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((a=I.state.preferredAccountTypes)==null?void 0:a.eip155)===Ce.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=J.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),(d=D._getClient())==null||d.updateBalance("eip155"),J.resetSend()},async sendERC20Token(t){q.pushTransactionStack({view:"Account",goBack:!1});const e=D.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(I.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=U.getPlainAddress(t.tokenAddress);await D.writeContract({fromAddress:I.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:aa.getERC20Abi(r),chainNamespace:"eip155"}),J.resetSend()}},async sendSolanaToken(){var t;if(!J.state.sendTokenAmount||!J.state.receiverAddress)throw new Error("An amount and receiver address are required");q.pushTransactionStack({view:"Account",goBack:!1}),await D.sendTransaction({chainNamespace:"solana",to:J.state.receiverAddress,value:J.state.sendTokenAmount}),(t=D._getClient())==null||t.updateBalance("solana"),J.resetSend()},resetSend(){te.token=void 0,te.sendTokenAmount=void 0,te.receiverAddress=void 0,te.receiverProfileImageUrl=void 0,te.receiverProfileName=void 0,te.loading=!1,te.tokenBalances=[]}},J=De(Pa),as={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},kr={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},_=ce({chains:zn(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),xa={state:_,subscribe(t){return we(_,()=>{t(_)})},subscribeKey(t,e){return ye(_,t,e)},subscribeChainProp(t,e,r){let s;return we(_.chains,()=>{var a;const n=r||_.activeChain;if(n){const o=(a=_.chains.get(n))==null?void 0:a[t];s!==o&&(s=o,e(o))}})},initialize(t,e,r){const{chainId:s,namespace:n}=S.getActiveNetworkProps(),a=e==null?void 0:e.find(p=>p.id.toString()===(s==null?void 0:s.toString())),i=t.find(p=>(p==null?void 0:p.namespace)===n)||(t==null?void 0:t[0]),d=t.map(p=>p.namespace).filter(p=>p!==void 0),l=f.state.enableEmbedded?new Set([...d]):new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!i)&&(_.noAdapters=!0),_.noAdapters||(_.activeChain=i==null?void 0:i.namespace,_.activeCaipNetwork=a,u.setChainNetworkData(i==null?void 0:i.namespace,{caipNetwork:a}),_.activeChain&&Ge.set({activeChain:i==null?void 0:i.namespace})),l.forEach(p=>{const h=e==null?void 0:e.filter(C=>C.chainNamespace===p);u.state.chains.set(p,{namespace:p,networkState:ce({...kr,caipNetwork:h==null?void 0:h[0]}),accountState:ce(as),caipNetworks:h??[],...r}),u.setRequestedCaipNetworks(h??[],p)})},removeAdapter(t){var e,r;if(_.activeChain===t){const s=Array.from(_.chains.entries()).find(([n])=>n!==t);if(s){const n=(r=(e=s[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];n&&u.setActiveCaipNetwork(n)}}_.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},s){_.chains.set(t.namespace,{namespace:t.namespace,networkState:{...kr,caipNetwork:s[0]},accountState:as,caipNetworks:s,connectionControllerClient:r,networkControllerClient:e}),u.setRequestedCaipNetworks((s==null?void 0:s.filter(n=>n.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=_.chains.get(t.chainNamespace);if(e){const s=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(n=>n.id===t.id)||s.push(t),_.chains.set(t.chainNamespace,{...e,caipNetworks:s}),u.setRequestedCaipNetworks(s,t.chainNamespace),v.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var s,n,a;const r=_.chains.get(t);if(r){const o=((s=_.activeCaipNetwork)==null?void 0:s.id)===e,i=[...((n=r.caipNetworks)==null?void 0:n.filter(d=>d.id!==e))||[]];o&&((a=r==null?void 0:r.caipNetworks)!=null&&a[0])&&u.setActiveCaipNetwork(r.caipNetworks[0]),_.chains.set(t,{...r,caipNetworks:i}),u.setRequestedCaipNetworks(i||[],t),i.length===0&&v.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=_.chains.get(t);r&&(r.networkState={...r.networkState||kr,...e},_.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const s=_.chains.get(t);if(s){const n={...s.accountState||as,...e};_.chains.set(t,{...s,accountState:n}),(_.chains.size===1||_.activeChain===t)&&(e.caipAddress&&(_.activeCaipAddress=e.caipAddress),I.replaceState(n))}},setChainNetworkData(t,e){if(!t)return;const r=_.chains.get(t);if(r){const s={...r.networkState||kr,...e};_.chains.set(t,{...r,networkState:s})}},setAccountProp(t,e,r,s=!0){u.setChainAccountData(r,{[t]:e},s),t==="status"&&e==="disconnected"&&r&&v.removeConnectorId(r)},setActiveNamespace(t){var s,n;_.activeChain=t;const e=t?_.chains.get(t):void 0,r=(s=e==null?void 0:e.networkState)==null?void 0:s.caipNetwork;r!=null&&r.id&&t&&(_.activeCaipAddress=(n=e==null?void 0:e.accountState)==null?void 0:n.caipAddress,_.activeCaipNetwork=r,u.setChainNetworkData(t,{caipNetwork:r}),S.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),Ge.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var s,n,a;if(!t)return;_.activeChain!==t.chainNamespace&&u.setIsSwitchingNamespace(!0);const e=_.chains.get(t.chainNamespace);_.activeChain=t.chainNamespace,_.activeCaipNetwork=t,u.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(s=e==null?void 0:e.accountState)!=null&&s.address?_.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(n=e==null?void 0:e.accountState)==null?void 0:n.address}`:_.activeCaipAddress=void 0,u.setAccountProp("caipAddress",_.activeCaipAddress,t.chainNamespace),e&&I.replaceState(e.accountState),J.resetSend(),Ge.set({activeChain:_.activeChain,selectedNetworkId:(a=_.activeCaipNetwork)==null?void 0:a.caipNetworkId}),S.setActiveCaipNetworkId(t.caipNetworkId),!u.checkIfSupportedNetwork(t.chainNamespace)&&f.state.enableNetworkSwitch&&!f.state.allowUnsupportedChain&&!D.state.wcBasic&&u.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=_.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var n;if(!t)return;const e=t!==u.state.activeChain,r=(n=u.getNetworkData(t))==null?void 0:n.caipNetwork,s=u.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&s&&await u.switchActiveNetwork(s)},async switchActiveNetwork(t){var n;const e=u.state.chains.get(u.state.activeChain);!((n=e==null?void 0:e.caipNetworks)!=null&&n.some(a=>{var o;return a.id===((o=_.activeCaipNetwork)==null?void 0:o.id)}))&&q.goBack();const s=u.getNetworkControllerClient(t.chainNamespace);s&&(await s.switchCaipNetwork(t),ie.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||_.activeChain,r=_.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||_.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=_.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var n;let r=_.activeChain;if(e&&(r=e),!r)return;const s=(n=_.chains.get(r))==null?void 0:n.accountState;if(s)return s[t]},getNetworkProp(t,e){var s;const r=(s=_.chains.get(e))==null?void 0:s.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=_.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:s=[]}=(e==null?void 0:e.networkState)||{};return U.sortRequestedNetworks(r,s)},getAllRequestedCaipNetworks(){const t=[];return _.chains.forEach(e=>{const r=u.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){u.setAdapterNetworkState(e,{requestedCaipNetworks:t});const s=u.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),n=Array.from(new Set(s));v.filterByNamespaces(n)},getAllApprovedCaipNetworkIds(){const t=[];return _.chains.forEach(e=>{const r=u.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return _.activeCaipNetwork},getActiveCaipAddress(){return _.activeCaipAddress},getApprovedCaipNetworkIds(t){var s;const e=_.chains.get(t);return((s=e==null?void 0:e.networkState)==null?void 0:s.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=u.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());u.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||_.activeCaipNetwork,s=u.getRequestedCaipNetworks(t);return s.length?s==null?void 0:s.some(n=>n.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!_.activeChain)return!0;const e=u.getRequestedCaipNetworks(_.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){u.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var s;const t=sn.caipNetworkIdToNumber((s=_.activeCaipNetwork)==null?void 0:s.caipNetworkId),e=_.activeChain;if(!e||!t)return!1;const r=u.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var s,n;const t=((s=_.activeCaipNetwork)==null?void 0:s.chainNamespace)||"eip155",e=((n=_.activeCaipNetwork)==null?void 0:n.id)||1,r=me.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){ue.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=_.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&me.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){u.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");_.activeCaipAddress=void 0,u.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),v.removeConnectorId(e)},async disconnect(t){const e=Na(t);try{J.resetSend();const r=await Promise.allSettled(e.map(async([n,a])=>{var o;try{const{caipAddress:i}=u.getAccountData(n)||{};i&&((o=a.connectionControllerClient)!=null&&o.disconnect)&&await a.connectionControllerClient.disconnect(n),u.resetAccount(n),u.resetNetwork(n)}catch(i){throw new Error(`Failed to disconnect chain ${n}: ${i.message}`)}}));D.resetWcConnection();const s=r.filter(n=>n.status==="rejected");if(s.length>0)throw new Error(s.map(n=>n.reason.message).join(", "));S.deleteConnectedSocialProvider(),t?v.removeConnectorId(t):v.resetConnectorIds(),ie.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),ie.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){_.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,s;const t=[];let e;if(_.chains.forEach(n=>{R.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?(s=(r=_.chains.get(n))==null?void 0:r.caipNetworks)==null?void 0:s[0]:void 0,e}},getAccountData(t){var e;return t?(e=u.state.chains.get(t))==null?void 0:e.accountState:I.state},getNetworkData(t){var r;const e=t||_.activeChain;if(e)return(r=u.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var n,a,o;if(!t)return;const r=u.state.chains.get(t),s=(n=r==null?void 0:r.caipNetworks)==null?void 0:n.find(i=>i.id===e);return s||((a=r==null?void 0:r.networkState)==null?void 0:a.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=v.state.filterByNamespace;return(t?[_.chains.get(t)]:Array.from(_.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?u.getRequestedCaipNetworks(t):u.getAllRequestedCaipNetworks()}},u=De(xa),Ua={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},ln=U.getBlockchainApiUrl(),ve=ce({clientId:null,api:new Ar({baseUrl:ln,clientId:null}),supportedChains:{http:[],ws:[]}}),M={state:ve,async get(t){const{st:e,sv:r}=M.getSdkProperties(),s=f.state.projectId,n={...t.params||{},st:e,sv:r,projectId:s};return ve.api.get({...t,params:n})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=f.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ve.supportedChains.http.length||await M.getSupportedNetworks()}catch{return!1}return ve.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await M.get({path:"v1/supported-chains"});return ve.supportedChains=t,t}catch{return ve.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await M.isNetworkSupported(e))return{avatar:"",name:""};const s=S.getIdentityFromCacheForAddress(t);if(s)return s;const n=await M.get({path:`/v1/identity/${t}`,params:{sender:u.state.activeCaipAddress?U.getPlainAddress(u.state.activeCaipAddress):void 0}});return S.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,onramp:r,signal:s,cache:n,chainId:a}){var i;return await M.isNetworkSupported((i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?M.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:a},signal:s,cache:n}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:s,gasPrice:n}){var o;return await M.isNetworkSupported((o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?M.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:s,gasPrice:n}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await M.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?M.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await M.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ve.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:f.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var s;return await M.isNetworkSupported((s=u.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?M.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var n;const{st:e,sv:r}=M.getSdkProperties();if(!await M.isNetworkSupported((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))throw new Error("Network not supported for Gas Price");return M.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:s,disableEstimate:n}){var o;if(!await M.isNetworkSupported((o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return ve.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:me.CONVERT_SLIPPAGE_TOLERANCE},projectId:f.state.projectId,from:e,to:r,userAddress:s,disableEstimate:n}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:s,sv:n}=M.getSdkProperties();if(!await M.isNetworkSupported((o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return M.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:s,sv:n}})},async getBalance(t,e,r){var l;const{st:s,sv:n}=M.getSdkProperties();if(!await M.isNetworkSupported((l=u.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return We.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,i=S.getBalanceCacheForCaipAddress(o);if(i)return i;const d=await M.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:s,sv:n}});return S.updateBalanceCache({caipAddress:o,balance:d,timestamp:Date.now()}),d},async lookupEnsName(t){var r;return await M.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?M.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await M.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?M.get({path:`/v1/profile/reverse/${t}`,params:{sender:I.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await M.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?M.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:s}){var a;return await M.isNetworkSupported((a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?ve.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:s},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:s,paymentAmount:n}){var i;return await M.isNetworkSupported((i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?(await ve.api.post({path:"/v1/generators/onrampurl",params:{projectId:f.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:s,presetFiatAmount:n}})).url:""},async getOnrampOptions(){var e;if(!await M.isNetworkSupported((e=u.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await M.get({path:"/v1/onramp/options"})}catch{return Ua}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:s}){var n;try{return await M.isNetworkSupported((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?await ve.api.post({path:"/v1/onramp/quote",params:{projectId:f.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:s}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await M.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?M.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var n;return await M.isNetworkSupported((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ve.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:f.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){ve.clientId=t,ve.api=new Ar({baseUrl:ln,clientId:t})}},Pe=ce({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Da={state:Pe,replaceState(t){t&&Object.assign(Pe,Et(t))},subscribe(t){return u.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let s;return u.subscribeChainProp("accountState",n=>{if(n){const a=n[t];s!==a&&(s=a,e(a))}},r)},setStatus(t,e){u.setAccountProp("status",t,e)},getCaipAddress(t){return u.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?U.getPlainAddress(t):void 0;e===u.state.activeChain&&(u.state.activeCaipAddress=t),u.setAccountProp("caipAddress",t,e),u.setAccountProp("address",r,e)},setBalance(t,e,r){u.setAccountProp("balance",t,r),u.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){u.setAccountProp("profileName",t,e)},setProfileImage(t,e){u.setAccountProp("profileImage",t,e)},setUser(t,e){u.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){u.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){u.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){u.setAccountProp("currentTab",t,u.state.activeChain)},setTokenBalance(t,e){t&&u.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){u.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){u.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const s=u.getAccountProp("addressLabels",r)||new Map;s.set(t,e),u.setAccountProp("addressLabels",s,r)},removeAddressLabel(t,e){const r=u.getAccountProp("addressLabels",e)||new Map;r.delete(t),u.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){u.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){u.setAccountProp("preferredAccountTypes",{...Pe.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Pe.preferredAccountTypes=t},setSocialProvider(t,e){t&&u.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){u.setAccountProp("socialWindow",t?Et(t):void 0,e)},setFarcasterUrl(t,e){u.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var a,o;Pe.balanceLoading=!0;const e=(a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,r=(o=u.state.activeCaipNetwork)==null?void 0:o.chainNamespace,s=u.state.activeCaipAddress,n=s?U.getPlainAddress(s):void 0;if(Pe.lastRetry&&!U.isAllowedRetry(Pe.lastRetry,30*me.ONE_SEC_MS))return Pe.balanceLoading=!1,[];try{if(n&&e&&r){const d=(await M.getBalance(n,e)).balances.filter(l=>l.quantity.decimals!=="0");return I.setTokenBalance(d,r),Pe.lastRetry=void 0,Pe.balanceLoading=!1,d}}catch(i){Pe.lastRetry=Date.now(),t==null||t(i),We.showError("Token Balance Unavailable")}finally{Pe.balanceLoading=!1}return[]},resetAccount(t){u.resetAccount(t)}},I=De(Da),Ne=ce({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),La={state:Ne,subscribe(t){return we(Ne,()=>t(Ne))},subscribeKey(t,e){return ye(Ne,t,e)},async open(t){var n;const e=I.state.status==="connected";D.state.wcBasic?x.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await x.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await u.switchActiveNamespace(t.namespace),ue.setLoading(!0,t.namespace)):ue.setLoading(!0),v.setFilterByNamespace(t==null?void 0:t.namespace);const r=(n=u.getAccountData(t==null?void 0:t.namespace))==null?void 0:n.caipAddress,s=u.state.noAdapters;f.state.manualWCControl||s&&!r?U.isMobile()?q.reset("AllWallets"):q.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?q.reset(t.view,t.data):r?q.reset("Account"):q.reset("Connect"),Ne.open=!0,Ge.set({open:!0}),ie.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(t=!1){if(t||q.state.view!=="ApproveTransaction"){const e=f.state.enableEmbedded,r=!!u.state.activeCaipAddress;Ne.open&&ie.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:r}}),Ne.open=!1,ue.clearLoading(),e?r?q.replace("Account"):q.push("Connect"):Ge.set({open:!1})}D.resetUri()},setLoading(t,e){e&&Ne.loadingNamespaceMap.set(e,t),Ne.loading=t,Ge.set({loading:t})},clearLoading(){Ne.loadingNamespaceMap.clear(),Ne.loading=!1},shake(){Ne.shake||(Ne.shake=!0,setTimeout(()=>{Ne.shake=!1},500))}},ue=De(La),xs=2147483648,Ma={convertEVMChainIdToCoinType(t){if(t>=xs)throw new Error("Invalid chainId");return(xs|t)>>>0}},xe=ce({suggestions:[],loading:!1}),Ba={state:xe,subscribe(t){return we(xe,()=>t(xe))},subscribeKey(t,e){return ye(xe,t,e)},async resolveName(t){var e,r;try{return await M.lookupEnsName(t)}catch(s){const n=s;throw new Error(((r=(e=n==null?void 0:n.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await M.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{xe.loading=!0,xe.suggestions=[];const e=await M.getEnsNameSuggestions(t);return xe.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],xe.suggestions}catch(e){const r=Xt.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{xe.loading=!1}},async getNamesForAddress(t){try{if(!u.state.activeCaipNetwork)return[];const r=S.getEnsFromCacheForAddress(t);if(r)return r;const s=await M.reverseLookupEnsName({address:t});return S.updateEnsCache({address:t,ens:s,timestamp:Date.now()}),s}catch(e){const r=Xt.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=u.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=I.state.address,s=v.getAuthConnector();if(!r||!s)throw new Error("Address or auth connector not found");xe.loading=!0;try{const n=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});q.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){xe.loading=!1}});const a=await D.signMessage(n),o=e.id;if(!o)throw new Error("Network not found");const i=Ma.convertEVMChainIdToCoinType(Number(o));await M.registerEnsName({coinType:i,address:r,signature:a,message:n}),I.setProfileName(t,e.chainNamespace),q.replace("RegisterAccountNameSuccess")}catch(n){const a=Xt.parseEnsApiError(n,`Error registering name ${t}`);throw q.replace("RegisterAccountName"),new Error(a)}finally{xe.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var s,n;const r=t;return((n=(s=r==null?void 0:r.reasons)==null?void 0:s[0])==null?void 0:n.description)||e}},Xt=De(Ba),Se={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Mr={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[R.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[R.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[R.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[R.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[R.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[R.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[R.CONNECTOR_ID.INJECTED]:"Browser Wallet",[R.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[R.CONNECTOR_ID.COINBASE]:"Coinbase",[R.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[R.CONNECTOR_ID.LEDGER]:"Ledger",[R.CONNECTOR_ID.SAFE]:"Safe"}},Yr={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,s])=>{e[`${Se.EIP155}:${r}`]=s}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Wa=new AbortController,Ve={EmbeddedWalletAbortController:Wa,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${$a()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function $a(){return typeof window<"u"}const Fa={createLogger(t,e="error"){const r=tn({level:e}),{logger:s}=rn({opts:r});return s.error=(...n)=>{for(const a of n)if(a instanceof Error){t(a,...n);return}t(void 0,...n)},s}},ja="rpc.walletconnect.org";function Us(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const os=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],kt={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===ja}catch{r=!1}if(r){const s=new URL(t);return s.searchParams.has("projectId")||s.searchParams.set("projectId",e),s.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:R.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${R.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var n,a,o;const s=(o=(a=(n=t.rpcUrls)==null?void 0:n.default)==null?void 0:a.http)==null?void 0:o[0];return os.includes(e)?Us(e,r):s||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:s}){var C,w,z,g,b;const n=this.getChainNamespace(t),a=this.getCaipNetworkId(t),o=(C=t.rpcUrls.default.http)==null?void 0:C[0],i=this.getDefaultRpcUrl(t,a,r),d=((g=(z=(w=t==null?void 0:t.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:z.http)==null?void 0:g[0])||o,l=((b=s==null?void 0:s[a])==null?void 0:b.map(k=>k.url))||[],p=[...l,i],h=[...l];return d&&!h.includes(d)&&h.push(d),{...t,chainNamespace:n,caipNetworkId:a,assets:{imageId:Mr.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:s}){return t.map(n=>kt.extendCaipNetwork(n,{customNetworkImageUrls:e,customRpcUrls:s,projectId:r}))},getViemTransport(t,e,r){var n,a,o;const s=[];return r==null||r.forEach(i=>{s.push(Ir(i.url,i.config))}),os.includes(t.caipNetworkId)&&s.push(Ir(Us(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(a=(n=t==null?void 0:t.rpcUrls)==null?void 0:n.default)==null?void 0:a.http)==null||o.forEach(i=>{s.push(Ir(i))}),bs(s)},extendWagmiTransports(t,e,r){if(os.includes(t.caipNetworkId)){const s=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return bs([r,Ir(s)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:R.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var d;const e=S.getActiveCaipNetworkId(),r=u.getAllRequestedCaipNetworks(),s=Array.from(((d=u.state.chains)==null?void 0:d.keys())||[]),n=e==null?void 0:e.split(":")[0],a=n?s.includes(n):!1,o=r==null?void 0:r.find(l=>l.caipNetworkId===e);return a&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}},Br={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},be=ce({providers:{...Br},providerIds:{...Br}}),se={state:be,subscribeKey(t,e){return ye(be,t,e)},subscribe(t){return we(be,()=>{t(be)})},subscribeProviders(t){return we(be.providers,()=>t(be.providers))},setProvider(t,e){e&&(be.providers[t]=Et(e))},getProvider(t){return be.providers[t]},setProviderId(t,e){e&&(be.providerIds[t]=e)},getProviderId(t){if(t)return be.providerIds[t]},reset(){be.providers={...Br},be.providerIds={...Br}},resetChain(t){be.providers[t]=void 0,be.providerIds[t]=void 0}},Ds={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ge={set(t,e){ke.isClient&&localStorage.setItem(`${T.STORAGE_KEY}${t}`,e)},get(t){return ke.isClient?localStorage.getItem(`${T.STORAGE_KEY}${t}`):null},delete(t,e){ke.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${T.STORAGE_KEY}${t}`))}},Or=30*1e3,ke={checkIfAllowedToTriggerEmail(){const t=ge.get(T.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Or){const r=Math.ceil((Or-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=ge.get(T.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Or)return Math.ceil((Or-e)/1e3)}return 0},checkIfRequestExists(t){return Ce.NOT_SAFE_RPC_METHODS.includes(t.method)||Ce.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(Ds.transactionHash))||(t==null?void 0:t.match(Ds.signedMessage)))?T.RPC_RESPONSE_TYPE_TX:T.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Ce.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Y;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(i=>typeof n[n[i]]!="number"),o={};for(const i of a)o[i]=n[i];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(Y||(Y={}));var ms;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ms||(ms={}));const E=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ot=t=>{switch(typeof t){case"undefined":return E.undefined;case"string":return E.string;case"number":return isNaN(t)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(t)?E.array:t===null?E.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?E.promise:typeof Map<"u"&&t instanceof Map?E.map:typeof Set<"u"&&t instanceof Set?E.set:typeof Date<"u"&&t instanceof Date?E.date:E.object;default:return E.unknown}},m=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ha=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fe extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let i=s,d=0;for(;d<o.path.length;){const l=o.path[d];d===o.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(r(o))):i[l]=i[l]||{_errors:[]},i=i[l],d++}}};return n(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Fe.create=t=>new Fe(t);const or=(t,e)=>{let r;switch(t.code){case m.invalid_type:t.received===E.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case m.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Y.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:r=`Unrecognized key(s) in object: ${Y.joinValues(t.keys,", ")}`;break;case m.invalid_union:r="Invalid input";break;case m.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Y.joinValues(t.options)}`;break;case m.invalid_enum_value:r=`Invalid enum value. Expected ${Y.joinValues(t.options)}, received '${t.received}'`;break;case m.invalid_arguments:r="Invalid function arguments";break;case m.invalid_return_type:r="Invalid function return type";break;case m.invalid_date:r="Invalid date";break;case m.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Y.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case m.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case m.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case m.custom:r="Invalid input";break;case m.invalid_intersection_types:r="Intersection results could not be merged";break;case m.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case m.not_finite:r="Number must be finite";break;default:r=e.defaultError,Y.assertNever(t)}return{message:r}};let dn=or;function Va(t){dn=t}function Wr(){return dn}const $r=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],o={...n,path:a};let i="";const d=s.filter(l=>!!l).slice().reverse();for(const l of d)i=l(o,{data:e,defaultError:i}).message;return{...n,path:a,message:n.message||i}},za=[];function N(t,e){const r=$r({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wr(),or].filter(s=>!!s)});t.common.issues.push(r)}class _e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return W;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r)s.push({key:await n.key,value:await n.value});return _e.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return W;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const W=Object.freeze({status:"aborted"}),un=t=>({status:"dirty",value:t}),Ee=t=>({status:"valid",value:t}),gs=t=>t.status==="aborted",Cs=t=>t.status==="dirty",ir=t=>t.status==="valid",Fr=t=>typeof Promise<"u"&&t instanceof Promise;var O;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(O||(O={}));class qe{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ls=(t,e)=>{if(ir(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fe(t.common.issues);return this._error=r,this._error}}};function H(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,i)=>o.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"?{message:s??i.defaultError}:{message:r??i.defaultError},description:n}}class V{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ot(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ot(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _e,ctx:{common:e.parent.common,data:e.data,parsedType:ot(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Fr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ot(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Ls(n,a)}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ot(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(Fr(n)?n:Promise.resolve(n));return Ls(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=e(n),i=()=>a.addIssue({code:m.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new He({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qe.create(this,this._def)}nullable(){return vt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return je.create(this,this._def)}promise(){return Wt.create(this,this._def)}or(e){return ur.create([this,e],this._def)}and(e){return pr.create(this,e,this._def)}transform(e){return new He({...H(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Cr({...H(this._def),innerType:this,defaultValue:r,typeName:L.ZodDefault})}brand(){return new hn({typeName:L.ZodBranded,type:this,...H(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new zr({...H(this._def),innerType:this,catchValue:r,typeName:L.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return vr.create(this,e)}readonly(){return qr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ga=/^c[^\s-]{8,}$/i,qa=/^[a-z][a-z0-9]*$/,Za=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ka=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ya=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ja="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let is;const Xa=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Qa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,eo=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function to(t,e){return!!((e==="v4"||!e)&&Xa.test(t)||(e==="v6"||!e)&&Qa.test(t))}class $e extends V{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==E.string){const a=this._getOrReturnCtx(e);return N(a,{code:m.invalid_type,expected:E.string,received:a.parsedType}),W}const s=new _e;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),N(n,{code:m.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),N(n,{code:m.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(n=this._getOrReturnCtx(e,n),o?N(n,{code:m.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&N(n,{code:m.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Ya.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"email",code:m.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")is||(is=new RegExp(Ja,"u")),is.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"emoji",code:m.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Ka.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"uuid",code:m.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Ga.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"cuid",code:m.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")qa.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"cuid2",code:m.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Za.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"ulid",code:m.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),N(n,{validation:"url",code:m.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"regex",code:m.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),N(n,{code:m.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),N(n,{code:m.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),N(n,{code:m.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?eo(a).test(e.data)||(n=this._getOrReturnCtx(e,n),N(n,{code:m.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="ip"?to(e.data,a.version)||(n=this._getOrReturnCtx(e,n),N(n,{validation:"ip",code:m.invalid_string,message:a.message}),s.dirty()):Y.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:m.invalid_string,...O.errToObj(s)})}_addCheck(e){return new $e({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...O.errToObj(e)})}url(e){return this._addCheck({kind:"url",...O.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...O.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...O.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...O.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...O.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...O.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...O.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...O.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...O.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...O.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...O.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...O.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...O.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...O.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...O.errToObj(r)})}nonempty(e){return this.min(1,O.errToObj(e))}trim(){return new $e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}$e.create=t=>{var e;return new $e({checks:[],typeName:L.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...H(t)})};function ro(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class ut extends V{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==E.number){const a=this._getOrReturnCtx(e);return N(a,{code:m.invalid_type,expected:E.number,received:a.parsedType}),W}let s;const n=new _e;for(const a of this._def.checks)a.kind==="int"?Y.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:m.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),N(s,{code:m.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),N(s,{code:m.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?ro(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),N(s,{code:m.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:m.not_finite,message:a.message}),n.dirty()):Y.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,O.toString(r))}gt(e,r){return this.setLimit("min",e,!1,O.toString(r))}lte(e,r){return this.setLimit("max",e,!0,O.toString(r))}lt(e,r){return this.setLimit("max",e,!1,O.toString(r))}setLimit(e,r,s,n){return new ut({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:O.toString(n)}]})}_addCheck(e){return new ut({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:O.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:O.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:O.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:O.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:O.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:O.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:O.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:O.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ut.create=t=>new ut({checks:[],typeName:L.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...H(t)});class pt extends V{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==E.bigint){const a=this._getOrReturnCtx(e);return N(a,{code:m.invalid_type,expected:E.bigint,received:a.parsedType}),W}let s;const n=new _e;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),N(s,{code:m.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),N(s,{code:m.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),N(s,{code:m.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Y.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,O.toString(r))}gt(e,r){return this.setLimit("min",e,!1,O.toString(r))}lte(e,r){return this.setLimit("max",e,!0,O.toString(r))}lt(e,r){return this.setLimit("max",e,!1,O.toString(r))}setLimit(e,r,s,n){return new pt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:O.toString(n)}]})}_addCheck(e){return new pt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:O.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:O.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:O.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:O.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}pt.create=t=>{var e;return new pt({checks:[],typeName:L.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...H(t)})};class cr extends V{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==E.boolean){const s=this._getOrReturnCtx(e);return N(s,{code:m.invalid_type,expected:E.boolean,received:s.parsedType}),W}return Ee(e.data)}}cr.create=t=>new cr({typeName:L.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...H(t)});class yt extends V{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==E.date){const a=this._getOrReturnCtx(e);return N(a,{code:m.invalid_type,expected:E.date,received:a.parsedType}),W}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return N(a,{code:m.invalid_date}),W}const s=new _e;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),N(n,{code:m.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),N(n,{code:m.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Y.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:O.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:O.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}yt.create=t=>new yt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:L.ZodDate,...H(t)});class jr extends V{_parse(e){if(this._getType(e)!==E.symbol){const s=this._getOrReturnCtx(e);return N(s,{code:m.invalid_type,expected:E.symbol,received:s.parsedType}),W}return Ee(e.data)}}jr.create=t=>new jr({typeName:L.ZodSymbol,...H(t)});class lr extends V{_parse(e){if(this._getType(e)!==E.undefined){const s=this._getOrReturnCtx(e);return N(s,{code:m.invalid_type,expected:E.undefined,received:s.parsedType}),W}return Ee(e.data)}}lr.create=t=>new lr({typeName:L.ZodUndefined,...H(t)});class dr extends V{_parse(e){if(this._getType(e)!==E.null){const s=this._getOrReturnCtx(e);return N(s,{code:m.invalid_type,expected:E.null,received:s.parsedType}),W}return Ee(e.data)}}dr.create=t=>new dr({typeName:L.ZodNull,...H(t)});class Bt extends V{constructor(){super(...arguments),this._any=!0}_parse(e){return Ee(e.data)}}Bt.create=t=>new Bt({typeName:L.ZodAny,...H(t)});class _t extends V{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ee(e.data)}}_t.create=t=>new _t({typeName:L.ZodUnknown,...H(t)});class et extends V{_parse(e){const r=this._getOrReturnCtx(e);return N(r,{code:m.invalid_type,expected:E.never,received:r.parsedType}),W}}et.create=t=>new et({typeName:L.ZodNever,...H(t)});class Hr extends V{_parse(e){if(this._getType(e)!==E.undefined){const s=this._getOrReturnCtx(e);return N(s,{code:m.invalid_type,expected:E.void,received:s.parsedType}),W}return Ee(e.data)}}Hr.create=t=>new Hr({typeName:L.ZodVoid,...H(t)});class je extends V{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==E.array)return N(r,{code:m.invalid_type,expected:E.array,received:r.parsedType}),W;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,i=r.data.length<n.exactLength.value;(o||i)&&(N(r,{code:o?m.too_big:m.too_small,minimum:i?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(N(r,{code:m.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(N(r,{code:m.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,i)=>n.type._parseAsync(new qe(r,o,r.path,i)))).then(o=>_e.mergeArray(s,o));const a=[...r.data].map((o,i)=>n.type._parseSync(new qe(r,o,r.path,i)));return _e.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new je({...this._def,minLength:{value:e,message:O.toString(r)}})}max(e,r){return new je({...this._def,maxLength:{value:e,message:O.toString(r)}})}length(e,r){return new je({...this._def,exactLength:{value:e,message:O.toString(r)}})}nonempty(e){return this.min(1,e)}}je.create=(t,e)=>new je({type:t,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,...H(e)});function Ot(t){if(t instanceof le){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Qe.create(Ot(s))}return new le({...t._def,shape:()=>e})}else return t instanceof je?new je({...t._def,type:Ot(t.element)}):t instanceof Qe?Qe.create(Ot(t.unwrap())):t instanceof vt?vt.create(Ot(t.unwrap())):t instanceof Ze?Ze.create(t.items.map(e=>Ot(e))):t}class le extends V{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Y.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==E.object){const l=this._getOrReturnCtx(e);return N(l,{code:m.invalid_type,expected:E.object,received:l.parsedType}),W}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof et&&this._def.unknownKeys==="strip"))for(const l in n.data)o.includes(l)||i.push(l);const d=[];for(const l of o){const p=a[l],h=n.data[l];d.push({key:{status:"valid",value:l},value:p._parse(new qe(n,h,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof et){const l=this._def.unknownKeys;if(l==="passthrough")for(const p of i)d.push({key:{status:"valid",value:p},value:{status:"valid",value:n.data[p]}});else if(l==="strict")i.length>0&&(N(n,{code:m.unrecognized_keys,keys:i}),s.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const p of i){const h=n.data[p];d.push({key:{status:"valid",value:p},value:l._parse(new qe(n,h,n.path,p)),alwaysSet:p in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const p of d){const h=await p.key;l.push({key:h,value:await p.value,alwaysSet:p.alwaysSet})}return l}).then(l=>_e.mergeObjectSync(s,l)):_e.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return O.errToObj,new le({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,a,o,i;const d=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(i=O.errToObj(e).message)!==null&&i!==void 0?i:d}:{message:d}}}:{}})}strip(){return new le({...this._def,unknownKeys:"strip"})}passthrough(){return new le({...this._def,unknownKeys:"passthrough"})}extend(e){return new le({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new le({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:L.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new le({...this._def,catchall:e})}pick(e){const r={};return Y.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new le({...this._def,shape:()=>r})}omit(e){const r={};return Y.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new le({...this._def,shape:()=>r})}deepPartial(){return Ot(this)}partial(e){const r={};return Y.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new le({...this._def,shape:()=>r})}required(e){const r={};return Y.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Qe;)a=a._def.innerType;r[s]=a}}),new le({...this._def,shape:()=>r})}keyof(){return pn(Y.objectKeys(this.shape))}}le.create=(t,e)=>new le({shape:()=>t,unknownKeys:"strip",catchall:et.create(),typeName:L.ZodObject,...H(e)});le.strictCreate=(t,e)=>new le({shape:()=>t,unknownKeys:"strict",catchall:et.create(),typeName:L.ZodObject,...H(e)});le.lazycreate=(t,e)=>new le({shape:t,unknownKeys:"strip",catchall:et.create(),typeName:L.ZodObject,...H(e)});class ur extends V{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(i=>new Fe(i.ctx.common.issues));return N(r,{code:m.invalid_union,unionErrors:o}),W}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const d of s){const l={...r,common:{...r.common,issues:[]},parent:null},p=d._parseSync({data:r.data,path:r.path,parent:l});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(d=>new Fe(d));return N(r,{code:m.invalid_union,unionErrors:i}),W}}get options(){return this._def.options}}ur.create=(t,e)=>new ur({options:t,typeName:L.ZodUnion,...H(e)});const Pr=t=>t instanceof fr?Pr(t.schema):t instanceof He?Pr(t.innerType()):t instanceof mr?[t.value]:t instanceof ht?t.options:t instanceof gr?Object.keys(t.enum):t instanceof Cr?Pr(t._def.innerType):t instanceof lr?[void 0]:t instanceof dr?[null]:null;class Jr extends V{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==E.object)return N(r,{code:m.invalid_type,expected:E.object,received:r.parsedType}),W;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(N(r,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),W)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const a of r){const o=Pr(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of o){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,a)}}return new Jr({typeName:L.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...H(s)})}}function _s(t,e){const r=ot(t),s=ot(e);if(t===e)return{valid:!0,data:t};if(r===E.object&&s===E.object){const n=Y.objectKeys(e),a=Y.objectKeys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(const i of a){const d=_s(t[i],e[i]);if(!d.valid)return{valid:!1};o[i]=d.data}return{valid:!0,data:o}}else if(r===E.array&&s===E.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],i=e[a],d=_s(o,i);if(!d.valid)return{valid:!1};n.push(d.data)}return{valid:!0,data:n}}else return r===E.date&&s===E.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pr extends V{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,o)=>{if(gs(a)||gs(o))return W;const i=_s(a.value,o.value);return i.valid?((Cs(a)||Cs(o))&&r.dirty(),{status:r.value,value:i.data}):(N(s,{code:m.invalid_intersection_types}),W)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}pr.create=(t,e,r)=>new pr({left:t,right:e,typeName:L.ZodIntersection,...H(r)});class Ze extends V{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.array)return N(s,{code:m.invalid_type,expected:E.array,received:s.parsedType}),W;if(s.data.length<this._def.items.length)return N(s,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;!this._def.rest&&s.data.length>this._def.items.length&&(N(s,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,i)=>{const d=this._def.items[i]||this._def.rest;return d?d._parse(new qe(s,o,s.path,i)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>_e.mergeArray(r,o)):_e.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ze({...this._def,rest:e})}}Ze.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ze({items:t,typeName:L.ZodTuple,rest:null,...H(e)})};class hr extends V{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.object)return N(s,{code:m.invalid_type,expected:E.object,received:s.parsedType}),W;const n=[],a=this._def.keyType,o=this._def.valueType;for(const i in s.data)n.push({key:a._parse(new qe(s,i,s.path,i)),value:o._parse(new qe(s,s.data[i],s.path,i))});return s.common.async?_e.mergeObjectAsync(r,n):_e.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof V?new hr({keyType:e,valueType:r,typeName:L.ZodRecord,...H(s)}):new hr({keyType:$e.create(),valueType:e,typeName:L.ZodRecord,...H(r)})}}class Vr extends V{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.map)return N(s,{code:m.invalid_type,expected:E.map,received:s.parsedType}),W;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([i,d],l)=>({key:n._parse(new qe(s,i,s.path,[l,"key"])),value:a._parse(new qe(s,d,s.path,[l,"value"]))}));if(s.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const d of o){const l=await d.key,p=await d.value;if(l.status==="aborted"||p.status==="aborted")return W;(l.status==="dirty"||p.status==="dirty")&&r.dirty(),i.set(l.value,p.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const d of o){const l=d.key,p=d.value;if(l.status==="aborted"||p.status==="aborted")return W;(l.status==="dirty"||p.status==="dirty")&&r.dirty(),i.set(l.value,p.value)}return{status:r.value,value:i}}}}Vr.create=(t,e,r)=>new Vr({valueType:e,keyType:t,typeName:L.ZodMap,...H(r)});class At extends V{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.set)return N(s,{code:m.invalid_type,expected:E.set,received:s.parsedType}),W;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(N(s,{code:m.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(N(s,{code:m.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(d){const l=new Set;for(const p of d){if(p.status==="aborted")return W;p.status==="dirty"&&r.dirty(),l.add(p.value)}return{status:r.value,value:l}}const i=[...s.data.values()].map((d,l)=>a._parse(new qe(s,d,s.path,l)));return s.common.async?Promise.all(i).then(d=>o(d)):o(i)}min(e,r){return new At({...this._def,minSize:{value:e,message:O.toString(r)}})}max(e,r){return new At({...this._def,maxSize:{value:e,message:O.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}At.create=(t,e)=>new At({valueType:t,minSize:null,maxSize:null,typeName:L.ZodSet,...H(e)});class Ut extends V{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==E.function)return N(r,{code:m.invalid_type,expected:E.function,received:r.parsedType}),W;function s(i,d){return $r({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wr(),or].filter(l=>!!l),issueData:{code:m.invalid_arguments,argumentsError:d}})}function n(i,d){return $r({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wr(),or].filter(l=>!!l),issueData:{code:m.invalid_return_type,returnTypeError:d}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Wt){const i=this;return Ee(async function(...d){const l=new Fe([]),p=await i._def.args.parseAsync(d,a).catch(w=>{throw l.addIssue(s(d,w)),l}),h=await Reflect.apply(o,this,p);return await i._def.returns._def.type.parseAsync(h,a).catch(w=>{throw l.addIssue(n(h,w)),l})})}else{const i=this;return Ee(function(...d){const l=i._def.args.safeParse(d,a);if(!l.success)throw new Fe([s(d,l.error)]);const p=Reflect.apply(o,this,l.data),h=i._def.returns.safeParse(p,a);if(!h.success)throw new Fe([n(p,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ut({...this._def,args:Ze.create(e).rest(_t.create())})}returns(e){return new Ut({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Ut({args:e||Ze.create([]).rest(_t.create()),returns:r||_t.create(),typeName:L.ZodFunction,...H(s)})}}class fr extends V{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}fr.create=(t,e)=>new fr({getter:t,typeName:L.ZodLazy,...H(e)});class mr extends V{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return N(r,{received:r.data,code:m.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:e.data}}get value(){return this._def.value}}mr.create=(t,e)=>new mr({value:t,typeName:L.ZodLiteral,...H(e)});function pn(t,e){return new ht({values:t,typeName:L.ZodEnum,...H(e)})}class ht extends V{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return N(r,{expected:Y.joinValues(s),received:r.parsedType,code:m.invalid_type}),W}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),s=this._def.values;return N(r,{received:r.data,code:m.invalid_enum_value,options:s}),W}return Ee(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return ht.create(e)}exclude(e){return ht.create(this.options.filter(r=>!e.includes(r)))}}ht.create=pn;class gr extends V{_parse(e){const r=Y.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==E.string&&s.parsedType!==E.number){const n=Y.objectValues(r);return N(s,{expected:Y.joinValues(n),received:s.parsedType,code:m.invalid_type}),W}if(r.indexOf(e.data)===-1){const n=Y.objectValues(r);return N(s,{received:s.data,code:m.invalid_enum_value,options:n}),W}return Ee(e.data)}get enum(){return this._def.values}}gr.create=(t,e)=>new gr({values:t,typeName:L.ZodNativeEnum,...H(e)});class Wt extends V{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==E.promise&&r.common.async===!1)return N(r,{code:m.invalid_type,expected:E.promise,received:r.parsedType}),W;const s=r.parsedType===E.promise?r.data:Promise.resolve(r.data);return Ee(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Wt.create=(t,e)=>new Wt({type:t,typeName:L.ZodPromise,...H(e)});class He extends V{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{N(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);return s.common.issues.length?{status:"dirty",value:s.data}:s.common.async?Promise.resolve(o).then(i=>this._def.schema._parseAsync({data:i,path:s.path,parent:s})):this._def.schema._parseSync({data:o,path:s.path,parent:s})}if(n.type==="refinement"){const o=i=>{const d=n.refinement(i,a);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?W:(i.status==="dirty"&&r.dirty(),o(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>i.status==="aborted"?W:(i.status==="dirty"&&r.dirty(),o(i.value).then(()=>({status:r.value,value:i.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ir(o))return o;const i=n.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>ir(o)?Promise.resolve(n.transform(o.value,a)).then(i=>({status:r.value,value:i})):o);Y.assertNever(n)}}He.create=(t,e,r)=>new He({schema:t,typeName:L.ZodEffects,effect:e,...H(r)});He.createWithPreprocess=(t,e,r)=>new He({schema:e,effect:{type:"preprocess",transform:t},typeName:L.ZodEffects,...H(r)});class Qe extends V{_parse(e){return this._getType(e)===E.undefined?Ee(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qe.create=(t,e)=>new Qe({innerType:t,typeName:L.ZodOptional,...H(e)});class vt extends V{_parse(e){return this._getType(e)===E.null?Ee(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vt.create=(t,e)=>new vt({innerType:t,typeName:L.ZodNullable,...H(e)});class Cr extends V{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===E.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Cr.create=(t,e)=>new Cr({innerType:t,typeName:L.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});class zr extends V{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Fr(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fe(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Fe(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}zr.create=(t,e)=>new zr({innerType:t,typeName:L.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});class Gr extends V{_parse(e){if(this._getType(e)!==E.nan){const s=this._getOrReturnCtx(e);return N(s,{code:m.invalid_type,expected:E.nan,received:s.parsedType}),W}return{status:"valid",value:e.data}}}Gr.create=t=>new Gr({typeName:L.ZodNaN,...H(t)});const so=Symbol("zod_brand");class hn extends V{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class vr extends V{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?W:a.status==="dirty"?(r.dirty(),un(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?W:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new vr({in:e,out:r,typeName:L.ZodPipeline})}}class qr extends V{_parse(e){const r=this._def.innerType._parse(e);return ir(r)&&(r.value=Object.freeze(r.value)),r}}qr.create=(t,e)=>new qr({innerType:t,typeName:L.ZodReadonly,...H(e)});const fn=(t,e={},r)=>t?Bt.create().superRefine((s,n)=>{var a,o;if(!t(s)){const i=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,d=(o=(a=i.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,l=typeof i=="string"?{message:i}:i;n.addIssue({code:"custom",...l,fatal:d})}}):Bt.create(),no={object:le.lazycreate};var L;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(L||(L={}));const ao=(t,e={message:`Input not instance of ${t.name}`})=>fn(r=>r instanceof t,e),mn=$e.create,gn=ut.create,oo=Gr.create,io=pt.create,Cn=cr.create,co=yt.create,lo=jr.create,uo=lr.create,po=dr.create,ho=Bt.create,fo=_t.create,mo=et.create,go=Hr.create,Co=je.create,_o=le.create,wo=le.strictCreate,Eo=ur.create,yo=Jr.create,Ao=pr.create,vo=Ze.create,No=hr.create,bo=Vr.create,To=At.create,So=Ut.create,Io=fr.create,Ro=mr.create,ko=ht.create,Oo=gr.create,Po=Wt.create,Ms=He.create,xo=Qe.create,Uo=vt.create,Do=He.createWithPreprocess,Lo=vr.create,Mo=()=>mn().optional(),Bo=()=>gn().optional(),Wo=()=>Cn().optional(),$o={string:t=>$e.create({...t,coerce:!0}),number:t=>ut.create({...t,coerce:!0}),boolean:t=>cr.create({...t,coerce:!0}),bigint:t=>pt.create({...t,coerce:!0}),date:t=>yt.create({...t,coerce:!0})},Fo=W;var c=Object.freeze({__proto__:null,defaultErrorMap:or,setErrorMap:Va,getErrorMap:Wr,makeIssue:$r,EMPTY_PATH:za,addIssueToContext:N,ParseStatus:_e,INVALID:W,DIRTY:un,OK:Ee,isAborted:gs,isDirty:Cs,isValid:ir,isAsync:Fr,get util(){return Y},get objectUtil(){return ms},ZodParsedType:E,getParsedType:ot,ZodType:V,ZodString:$e,ZodNumber:ut,ZodBigInt:pt,ZodBoolean:cr,ZodDate:yt,ZodSymbol:jr,ZodUndefined:lr,ZodNull:dr,ZodAny:Bt,ZodUnknown:_t,ZodNever:et,ZodVoid:Hr,ZodArray:je,ZodObject:le,ZodUnion:ur,ZodDiscriminatedUnion:Jr,ZodIntersection:pr,ZodTuple:Ze,ZodRecord:hr,ZodMap:Vr,ZodSet:At,ZodFunction:Ut,ZodLazy:fr,ZodLiteral:mr,ZodEnum:ht,ZodNativeEnum:gr,ZodPromise:Wt,ZodEffects:He,ZodTransformer:He,ZodOptional:Qe,ZodNullable:vt,ZodDefault:Cr,ZodCatch:zr,ZodNaN:Gr,BRAND:so,ZodBranded:hn,ZodPipeline:vr,ZodReadonly:qr,custom:fn,Schema:V,ZodSchema:V,late:no,get ZodFirstPartyTypeKind(){return L},coerce:$o,any:ho,array:Co,bigint:io,boolean:Cn,date:co,discriminatedUnion:yo,effect:Ms,enum:ko,function:So,instanceof:ao,intersection:Ao,lazy:Io,literal:Ro,map:bo,nan:oo,nativeEnum:Oo,never:mo,null:po,nullable:Uo,number:gn,object:_o,oboolean:Wo,onumber:Bo,optional:xo,ostring:Mo,pipeline:Lo,preprocess:Do,promise:Po,record:No,set:To,strictObject:wo,string:mn,symbol:lo,transformer:Ms,tuple:vo,undefined:uo,union:Eo,unknown:fo,void:go,NEVER:Fo,ZodIssueCode:m,quotelessJson:Ha,ZodError:Fe});const de=c.object({message:c.string()});function y(t){return c.literal(T[t])}c.object({accessList:c.array(c.string()),blockHash:c.string().nullable(),blockNumber:c.string().nullable(),chainId:c.string().or(c.number()),from:c.string(),gas:c.string(),hash:c.string(),input:c.string().nullable(),maxFeePerGas:c.string(),maxPriorityFeePerGas:c.string(),nonce:c.string(),r:c.string(),s:c.string(),to:c.string(),transactionIndex:c.string().nullable(),type:c.string(),v:c.string(),value:c.string()});const jo=c.object({chainId:c.string().or(c.number())}),Ho=c.object({email:c.string().email()}),Vo=c.object({otp:c.string()}),zo=c.object({uri:c.string(),preferredAccountType:c.optional(c.string())}),Go=c.object({chainId:c.optional(c.string().or(c.number())),preferredAccountType:c.optional(c.string()),socialUri:c.optional(c.string())}),qo=c.object({provider:c.enum(["google","github","apple","facebook","x","discord"])}),Zo=c.object({email:c.string().email()}),Ko=c.object({otp:c.string()}),Yo=c.object({otp:c.string()}),Jo=c.object({themeMode:c.optional(c.enum(["light","dark"])),themeVariables:c.optional(c.record(c.string(),c.string().or(c.number()))),w3mThemeVariables:c.optional(c.record(c.string(),c.string()))}),Xo=c.object({metadata:c.object({name:c.string(),description:c.string(),url:c.string(),icons:c.array(c.string())}).optional(),sdkVersion:c.string().optional(),sdkType:c.string().optional(),projectId:c.string()}),Qo=c.object({type:c.string()}),ei=c.object({action:c.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),ti=c.object({url:c.string()}),ri=c.object({userName:c.string()}),si=c.object({email:c.string().optional().nullable(),address:c.string(),chainId:c.string().or(c.number()),accounts:c.array(c.object({address:c.string(),type:c.enum([Ce.ACCOUNT_TYPES.EOA,Ce.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:c.string().optional().nullable(),preferredAccountType:c.optional(c.string())}),ni=c.object({action:c.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),ai=c.object({email:c.string().email().optional().nullable(),address:c.string(),chainId:c.string().or(c.number()),smartAccountDeployed:c.optional(c.boolean()),accounts:c.array(c.object({address:c.string(),type:c.enum([Ce.ACCOUNT_TYPES.EOA,Ce.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:c.optional(c.string())}),oi=c.object({uri:c.string()}),ii=c.object({isConnected:c.boolean()}),ci=c.object({chainId:c.string().or(c.number())}),li=c.object({chainId:c.string().or(c.number())}),di=c.object({newEmail:c.string().email()}),ui=c.object({smartAccountEnabledNetworks:c.array(c.number())});c.object({address:c.string(),isDeployed:c.boolean()});const pi=c.object({version:c.string().optional()}),hi=c.object({type:c.string(),address:c.string()}),fi=c.any(),mi=c.object({method:c.literal("eth_accounts")}),gi=c.object({method:c.literal("eth_blockNumber")}),Ci=c.object({method:c.literal("eth_call"),params:c.array(c.any())}),_i=c.object({method:c.literal("eth_chainId")}),wi=c.object({method:c.literal("eth_estimateGas"),params:c.array(c.any())}),Ei=c.object({method:c.literal("eth_feeHistory"),params:c.array(c.any())}),yi=c.object({method:c.literal("eth_gasPrice")}),Ai=c.object({method:c.literal("eth_getAccount"),params:c.array(c.any())}),vi=c.object({method:c.literal("eth_getBalance"),params:c.array(c.any())}),Ni=c.object({method:c.literal("eth_getBlockByHash"),params:c.array(c.any())}),bi=c.object({method:c.literal("eth_getBlockByNumber"),params:c.array(c.any())}),Ti=c.object({method:c.literal("eth_getBlockReceipts"),params:c.array(c.any())}),Si=c.object({method:c.literal("eth_getBlockTransactionCountByHash"),params:c.array(c.any())}),Ii=c.object({method:c.literal("eth_getBlockTransactionCountByNumber"),params:c.array(c.any())}),Ri=c.object({method:c.literal("eth_getCode"),params:c.array(c.any())}),ki=c.object({method:c.literal("eth_getFilterChanges"),params:c.array(c.any())}),Oi=c.object({method:c.literal("eth_getFilterLogs"),params:c.array(c.any())}),Pi=c.object({method:c.literal("eth_getLogs"),params:c.array(c.any())}),xi=c.object({method:c.literal("eth_getProof"),params:c.array(c.any())}),Ui=c.object({method:c.literal("eth_getStorageAt"),params:c.array(c.any())}),Di=c.object({method:c.literal("eth_getTransactionByBlockHashAndIndex"),params:c.array(c.any())}),Li=c.object({method:c.literal("eth_getTransactionByBlockNumberAndIndex"),params:c.array(c.any())}),Mi=c.object({method:c.literal("eth_getTransactionByHash"),params:c.array(c.any())}),Bi=c.object({method:c.literal("eth_getTransactionCount"),params:c.array(c.any())}),Wi=c.object({method:c.literal("eth_getTransactionReceipt"),params:c.array(c.any())}),$i=c.object({method:c.literal("eth_getUncleCountByBlockHash"),params:c.array(c.any())}),Fi=c.object({method:c.literal("eth_getUncleCountByBlockNumber"),params:c.array(c.any())}),ji=c.object({method:c.literal("eth_maxPriorityFeePerGas")}),Hi=c.object({method:c.literal("eth_newBlockFilter")}),Vi=c.object({method:c.literal("eth_newFilter"),params:c.array(c.any())}),zi=c.object({method:c.literal("eth_newPendingTransactionFilter")}),Gi=c.object({method:c.literal("eth_sendRawTransaction"),params:c.array(c.any())}),qi=c.object({method:c.literal("eth_syncing"),params:c.array(c.any())}),Zi=c.object({method:c.literal("eth_uninstallFilter"),params:c.array(c.any())}),Bs=c.object({method:c.literal("personal_sign"),params:c.array(c.any())}),Ki=c.object({method:c.literal("eth_signTypedData_v4"),params:c.array(c.any())}),Yi=c.object({method:c.literal("eth_sendTransaction"),params:c.array(c.any())}),Ji=c.object({method:c.literal("solana_signMessage"),params:c.object({message:c.string(),pubkey:c.string()})}),Xi=c.object({method:c.literal("solana_signTransaction"),params:c.object({transaction:c.string()})}),Qi=c.object({method:c.literal("solana_signAllTransactions"),params:c.object({transactions:c.array(c.string())})}),ec=c.object({method:c.literal("solana_signAndSendTransaction"),params:c.object({transaction:c.string(),options:c.object({skipPreflight:c.boolean().optional(),preflightCommitment:c.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:c.number().optional(),minContextSlot:c.number().optional()}).optional()})}),tc=c.object({method:c.literal("wallet_sendCalls"),params:c.array(c.object({chainId:c.string().or(c.number()).optional(),from:c.string().optional(),version:c.string().optional(),capabilities:c.any().optional(),calls:c.array(c.object({to:c.string().startsWith("0x"),data:c.string().startsWith("0x").optional(),value:c.string().optional()}))}))}),rc=c.object({method:c.literal("wallet_getCallsStatus"),params:c.array(c.string())}),sc=c.object({method:c.literal("wallet_getCapabilities")}),nc=c.object({method:c.literal("wallet_grantPermissions"),params:c.array(c.any())}),ac=c.object({method:c.literal("wallet_revokePermissions"),params:c.any()}),oc=c.object({method:c.literal("wallet_getAssets"),params:c.any()}),Ws=c.object({token:c.string()}),A=c.object({id:c.string().optional()}),Gt={appEvent:A.extend({type:y("APP_SWITCH_NETWORK"),payload:jo}).or(A.extend({type:y("APP_CONNECT_EMAIL"),payload:Ho})).or(A.extend({type:y("APP_CONNECT_DEVICE")})).or(A.extend({type:y("APP_CONNECT_OTP"),payload:Vo})).or(A.extend({type:y("APP_CONNECT_SOCIAL"),payload:zo})).or(A.extend({type:y("APP_GET_FARCASTER_URI")})).or(A.extend({type:y("APP_CONNECT_FARCASTER")})).or(A.extend({type:y("APP_GET_USER"),payload:c.optional(Go)})).or(A.extend({type:y("APP_GET_SOCIAL_REDIRECT_URI"),payload:qo})).or(A.extend({type:y("APP_SIGN_OUT")})).or(A.extend({type:y("APP_IS_CONNECTED"),payload:c.optional(Ws)})).or(A.extend({type:y("APP_GET_CHAIN_ID")})).or(A.extend({type:y("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(A.extend({type:y("APP_INIT_SMART_ACCOUNT")})).or(A.extend({type:y("APP_SET_PREFERRED_ACCOUNT"),payload:Qo})).or(A.extend({type:y("APP_RPC_REQUEST"),payload:Bs.or(oc).or(mi).or(gi).or(Ci).or(_i).or(wi).or(Ei).or(yi).or(Ai).or(vi).or(Ni).or(bi).or(Ti).or(Si).or(Ii).or(Ri).or(ki).or(Oi).or(Pi).or(xi).or(Ui).or(Di).or(Li).or(Mi).or(Bi).or(Wi).or($i).or(Fi).or(ji).or(Hi).or(Vi).or(zi).or(Gi).or(qi).or(Zi).or(Bs).or(Ki).or(Yi).or(Ji).or(Xi).or(Qi).or(ec).or(rc).or(tc).or(sc).or(nc).or(ac)})).or(A.extend({type:y("APP_UPDATE_EMAIL"),payload:Zo})).or(A.extend({type:y("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Ko})).or(A.extend({type:y("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Yo})).or(A.extend({type:y("APP_SYNC_THEME"),payload:Jo})).or(A.extend({type:y("APP_SYNC_DAPP_DATA"),payload:Xo})).or(A.extend({type:y("APP_RELOAD")})),frameEvent:A.extend({type:y("FRAME_SWITCH_NETWORK_ERROR"),payload:de}).or(A.extend({type:y("FRAME_SWITCH_NETWORK_SUCCESS"),payload:li})).or(A.extend({type:y("FRAME_CONNECT_EMAIL_SUCCESS"),payload:ei})).or(A.extend({type:y("FRAME_CONNECT_EMAIL_ERROR"),payload:de})).or(A.extend({type:y("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:ti})).or(A.extend({type:y("FRAME_GET_FARCASTER_URI_ERROR"),payload:de})).or(A.extend({type:y("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:ri})).or(A.extend({type:y("FRAME_CONNECT_FARCASTER_ERROR"),payload:de})).or(A.extend({type:y("FRAME_CONNECT_OTP_ERROR"),payload:de})).or(A.extend({type:y("FRAME_CONNECT_OTP_SUCCESS")})).or(A.extend({type:y("FRAME_CONNECT_DEVICE_ERROR"),payload:de})).or(A.extend({type:y("FRAME_CONNECT_DEVICE_SUCCESS")})).or(A.extend({type:y("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:si})).or(A.extend({type:y("FRAME_CONNECT_SOCIAL_ERROR"),payload:de})).or(A.extend({type:y("FRAME_GET_USER_ERROR"),payload:de})).or(A.extend({type:y("FRAME_GET_USER_SUCCESS"),payload:ai})).or(A.extend({type:y("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:de})).or(A.extend({type:y("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:oi})).or(A.extend({type:y("FRAME_SIGN_OUT_ERROR"),payload:de})).or(A.extend({type:y("FRAME_SIGN_OUT_SUCCESS")})).or(A.extend({type:y("FRAME_IS_CONNECTED_ERROR"),payload:de})).or(A.extend({type:y("FRAME_IS_CONNECTED_SUCCESS"),payload:ii})).or(A.extend({type:y("FRAME_GET_CHAIN_ID_ERROR"),payload:de})).or(A.extend({type:y("FRAME_GET_CHAIN_ID_SUCCESS"),payload:ci})).or(A.extend({type:y("FRAME_RPC_REQUEST_ERROR"),payload:de})).or(A.extend({type:y("FRAME_RPC_REQUEST_SUCCESS"),payload:fi})).or(A.extend({type:y("FRAME_SESSION_UPDATE"),payload:Ws})).or(A.extend({type:y("FRAME_UPDATE_EMAIL_ERROR"),payload:de})).or(A.extend({type:y("FRAME_UPDATE_EMAIL_SUCCESS"),payload:ni})).or(A.extend({type:y("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:de})).or(A.extend({type:y("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(A.extend({type:y("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:de})).or(A.extend({type:y("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:di})).or(A.extend({type:y("FRAME_SYNC_THEME_ERROR"),payload:de})).or(A.extend({type:y("FRAME_SYNC_THEME_SUCCESS")})).or(A.extend({type:y("FRAME_SYNC_DAPP_DATA_ERROR"),payload:de})).or(A.extend({type:y("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(A.extend({type:y("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:ui})).or(A.extend({type:y("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:de})).or(A.extend({type:y("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:de})).or(A.extend({type:y("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:hi})).or(A.extend({type:y("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:de})).or(A.extend({type:y("FRAME_READY"),payload:pi})).or(A.extend({type:y("FRAME_RELOAD_ERROR"),payload:de})).or(A.extend({type:y("FRAME_RELOAD_SUCCESS")}))};function cs(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class ic{constructor({projectId:e,isAppClient:r=!1,chainId:s="eip155:1",enableLogger:n=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=R.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,o,i)=>{function d({data:l}){if(!cs(T.FRAME_EVENT_KEY,l))return;const p=Gt.frameEvent.parse(l);p.id===a&&(o(p),window.removeEventListener("message",d))}ke.isClient&&(window.addEventListener("message",d),i.addEventListener("abort",()=>{window.removeEventListener("message",d)}))},onFrameEvent:a=>{ke.isClient&&window.addEventListener("message",({data:o})=>{if(!cs(T.FRAME_EVENT_KEY,o))return;const i=Gt.frameEvent.parse(o);a(i)})},onAppEvent:a=>{ke.isClient&&window.addEventListener("message",({data:o})=>{if(!cs(T.APP_EVENT_KEY,o))return;const i=Gt.appEvent.parse(o);a(i)})},postAppEvent:a=>{var o;if(ke.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Gt.appEvent.parse(a),this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(ke.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Gt.frameEvent.parse(a),parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,o)=>{this.frameLoadPromiseResolver={resolve:a,reject:o}}),r&&(this.frameLoadPromise=new Promise((a,o)=>{this.frameLoadPromiseResolver={resolve:a,reject:o}}),ke.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=`${Ta}?projectId=${e}&chainId=${s}&version=${Ia}&enableLogger=${n}`,a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var i;o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(i=this.frameLoadPromiseResolver)==null||i.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class cc{constructor(e){var a;const r=tn({level:Sa}),{logger:s,chunkLoggerController:n}=rn({opts:r});this.logger=Dn(s,this.constructor.name),this.chunkLoggerController=n,typeof window<"u"&&((a=this.chunkLoggerController)!=null&&a.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class lc{constructor({projectId:e,chainId:r,enableLogger:s=!0,onTimeout:n,abortController:a}){this.openRpcRequests=[],this.isInitialized=!1,s&&(this.w3mLogger=new cc(e)),this.abortController=a,this.w3mFrame=new ic({projectId:e,isAppClient:!0,chainId:r,enableLogger:s}),this.onTimeout=n,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ge.get(T.EMAIL_LOGIN_USED_KEY)}getEmail(){return ge.get(T.EMAIL)}getUsername(){return ge.get(T.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:T.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{ke.checkIfAllowedToTriggerEmail(),await this.init();const s=await this.appEvent({type:T.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting email"),s}}async connectDevice(){var e;try{return this.appEvent({type:T.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:T.APP_CONNECT_OTP,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting otp"),s}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:T.APP_IS_CONNECTED});return r!=null&&r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:T.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return await this.init(),this.appEvent({type:T.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error getting social redirect uri"),s}}async updateEmail(e){var r;try{const s=await this.appEvent({type:T.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error updating email"),s}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:T.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error updating email primary otp"),s}}async updateEmailSecondaryOtp(e){var r;try{const s=await this.appEvent({type:T.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(s.newEmail),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error updating email secondary otp"),s}}async syncTheme(e){var r;try{return this.appEvent({type:T.APP_SYNC_THEME,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error syncing theme"),s}}async syncDappData(e){var r;try{return this.appEvent({type:T.APP_SYNC_DAPP_DATA,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error syncing dapp data"),s}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:T.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:T.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error setting preferred account"),s}}async connect(e){var r,s;if(e!=null&&e.socialUri)try{await this.init();const n=await this.appEvent({type:T.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting social"),n}else try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1;e!=null&&e.preferredAccountType&&await this.setPreferredAccount(e.preferredAccountType);const a=await this.getUser({chainId:n,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(n){throw(s=this.w3mLogger)==null||s.logger.error({error:n},"Error connecting"),n}}async getUser(e){var r;try{await this.init();const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,n=await this.appEvent({type:T.APP_GET_USER,payload:{...e,chainId:s}});return this.user=n,n}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async connectSocial(e){var r;try{await this.init();const s=await this.appEvent({type:T.APP_CONNECT_SOCIAL,payload:{uri:e}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:T.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:T.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const s=await this.appEvent({type:T.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(s.chainId),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error switching network"),s}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async s=>{const n=setTimeout(()=>{s()},3e3);await this.appEvent({type:T.APP_SIGN_OUT}),clearTimeout(n),s()})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,s,n,a;try{if(Ce.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const o=await this.appEvent({type:T.APP_RPC_REQUEST,payload:e});return(s=this.rpcSuccessHandler)==null||s.call(this,o,e),o}catch(o){throw(n=this.rpcErrorHandler)==null||n.call(this,o,e),(a=this.w3mLogger)==null||a.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_IS_CONNECTED_ERROR&&e(),r.type===T.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===T.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Ce.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===T.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===T.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:s})=>{Ce.SAFE_RPC_METHODS.includes(s)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){let r,s;function n(d){return d.replace("@w3m-app/","")}const a=[T.APP_SYNC_DAPP_DATA,T.APP_SYNC_THEME,T.APP_SET_PREFERRED_ACCOUNT],o=n(e.type);return!this.w3mFrame.iframeIsReady&&!a.includes(e.type)&&(s=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(s),[T.APP_CONNECT_EMAIL,T.APP_CONNECT_DEVICE,T.APP_CONNECT_OTP,T.APP_CONNECT_SOCIAL,T.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(o)&&(r=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((d,l)=>{var w,z,g;const p=Math.random().toString(36).substring(7);(g=(w=this.w3mLogger)==null?void 0:(z=w.logger).info)==null||g.call(z,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p});const h=new AbortController;if(o==="RPC_REQUEST"){const b=e;this.openRpcRequests=[...this.openRpcRequests,{...b.payload,abortController:h}]}h.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function C(b,k){var ne,$,X;b.id===p&&(($=k==null?void 0:(ne=k.logger).info)==null||$.call(ne,{framEvent:b,id:p},"Received frame response"),b.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),s&&clearTimeout(s),"payload"in b&&d(b.payload),d(void 0)):b.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),s&&clearTimeout(s),"payload"in b&&l(new Error(((X=b.payload)==null?void 0:X.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,b=>C(b,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ge.set(T.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ge.set(T.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ge.set(T.EMAIL,e),ge.set(T.EMAIL_LOGIN_USED_KEY,"true"),ge.delete(T.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ge.delete(T.EMAIL_LOGIN_USED_KEY),ge.delete(T.EMAIL),ge.delete(T.LAST_USED_CHAIN_KEY),ge.delete(T.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ge.set(T.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ge.get(T.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){ge.set(T.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Qt{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:s,onTimeout:n,abortController:a}){return Qt.instance||(Qt.instance=new lc({projectId:e,chainId:r,enableLogger:s,onTimeout:n,abortController:a})),Qt.instance}}var $s={};const dc={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof $s<"u"?$s.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},ws={filterOutDuplicatesByRDNS(t){const e=f.state.enableEIP6963?v.state.connectors:[],r=S.getRecentWallets(),s=e.map(i=>{var d;return(d=i.info)==null?void 0:d.rdns}).filter(Boolean),n=r.map(i=>i.rdns).filter(Boolean),a=s.concat(n);if(a.includes("io.metamask.mobile")&&U.isMobile()){const i=a.indexOf("io.metamask.mobile");a[i]="io.metamask"}return t.filter(i=>!a.includes(String(i==null?void 0:i.rdns)))},filterOutDuplicatesByIds(t){const e=v.state.connectors.filter(i=>i.type==="ANNOUNCED"||i.type==="INJECTED"),r=S.getRecentWallets(),s=e.map(i=>i.explorerId),n=r.map(i=>i.id),a=s.concat(n);return t.filter(i=>!a.includes(i==null?void 0:i.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=v.state,r=e.filter(a=>a.type==="ANNOUNCED").reduce((a,o)=>{var i;return(i=o.info)!=null&&i.rdns&&(a[o.info.rdns]=!0),a},{});return t.map(a=>({...a,installed:!!a.rdns&&!!r[a.rdns??""]})).sort((a,o)=>Number(o.installed)-Number(a.installed))},getConnectOrderMethod(t,e){var d;const r=(t==null?void 0:t.connectMethodsOrder)||((d=f.state.features)==null?void 0:d.connectMethodsOrder),s=e||v.state.connectors;if(r)return r;const{injected:n,announced:a}=xr.getConnectorsByType(s,x.state.recommended,x.state.featured),o=n.filter(xr.showConnector),i=a.filter(xr.showConnector);return o.length||i.length?["wallet","email","social"]:dc.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&x.state.excludedWallets.some(s=>s.rdns===t.rdns),r=!!t.name&&x.state.excludedWallets.some(s=>Yr.isLowerCaseMatch(s.name,t.name));return e||r}},xr={getConnectorsByType(t,e,r){const{customWallets:s}=f.state,n=S.getRecentWallets(),a=ws.filterOutDuplicateWallets(e),o=ws.filterOutDuplicateWallets(r),i=t.filter(h=>h.type==="MULTI_CHAIN"),d=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),p=t.filter(h=>h.type==="EXTERNAL");return{custom:s,recent:n,external:p,multiChain:i,announced:d,injected:l,recommended:a,featured:o}},showConnector(t){var n;const e=(n=t.info)==null?void 0:n.rdns,r=!!e&&x.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===e),s=!!t.name&&x.state.excludedWallets.some(a=>Yr.isLowerCaseMatch(a.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!U.isMobile()||U.isMobile()&&!e&&!D.checkInstalled())||r||s)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||s))},getIsConnectedWithWC(){return Array.from(u.state.chains.values()).some(r=>v.getConnectorId(r.namespace)===R.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:s,announced:n,injected:a,multiChain:o,external:i,overriddenConnectors:d=(l=>(l=f.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const p=xr.getIsConnectedWithWC(),w=[{type:"walletConnect",isEnabled:f.state.enableWalletConnect&&!p},{type:"recent",isEnabled:s.length>0},{type:"injected",isEnabled:[...a,...n,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:i.length>0},{type:"recommended",isEnabled:t.length>0}].filter(k=>k.isEnabled),z=new Set(w.map(k=>k.type)),g=d.filter(k=>z.has(k)).map(k=>({type:k,isEnabled:!0})),b=w.filter(({type:k})=>!g.some(({type:$})=>$===k));return Array.from(new Set([...g,...b].map(({type:k})=>k)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ur=globalThis,ys=Ur.ShadowRoot&&(Ur.ShadyCSS===void 0||Ur.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,As=Symbol(),Fs=new WeakMap;let _n=class{constructor(e,r,s){if(this._$cssResult$=!0,s!==As)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(ys&&e===void 0){const s=r!==void 0&&r.length===1;s&&(e=Fs.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&Fs.set(r,e))}return e}toString(){return this.cssText}};const Ue=t=>new _n(typeof t=="string"?t:t+"",void 0,As),Dt=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((s,n,a)=>s+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[a+1],t[0]);return new _n(r,t,As)},uc=(t,e)=>{if(ys)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const s=document.createElement("style"),n=Ur.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=r.cssText,t.appendChild(s)}},js=ys?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const s of e.cssRules)r+=s.cssText;return Ue(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:pc,defineProperty:hc,getOwnPropertyDescriptor:fc,getOwnPropertyNames:mc,getOwnPropertySymbols:gc,getPrototypeOf:Cc}=Object,ct=globalThis,Hs=ct.trustedTypes,_c=Hs?Hs.emptyScript:"",ls=ct.reactiveElementPolyfillSupport,er=(t,e)=>t,Es={toAttribute(t,e){switch(e){case Boolean:t=t?_c:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},wn=(t,e)=>!pc(t,e),Vs={attribute:!0,type:String,converter:Es,reflect:!1,useDefault:!1,hasChanged:wn};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ct.litPropertyMetadata??(ct.litPropertyMetadata=new WeakMap);let Pt=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=Vs){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const s=Symbol(),n=this.getPropertyDescriptor(e,s,r);n!==void 0&&hc(this.prototype,e,n)}}static getPropertyDescriptor(e,r,s){const{get:n,set:a}=fc(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:n,set(o){const i=n==null?void 0:n.call(this);a==null||a.call(this,o),this.requestUpdate(e,i,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Vs}static _$Ei(){if(this.hasOwnProperty(er("elementProperties")))return;const e=Cc(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(er("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(er("properties"))){const r=this.properties,s=[...mc(r),...gc(r)];for(const n of s)this.createProperty(n,r[n])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[s,n]of r)this.elementProperties.set(s,n)}this._$Eh=new Map;for(const[r,s]of this.elementProperties){const n=this._$Eu(r,s);n!==void 0&&this._$Eh.set(n,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const n of s)r.unshift(js(n))}else e!==void 0&&r.push(js(e));return r}static _$Eu(e,r){const s=r.attribute;return s===!1?void 0:typeof s=="string"?s:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const s of r.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return uc(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var s;return(s=r.hostConnected)==null?void 0:s.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var s;return(s=r.hostDisconnected)==null?void 0:s.call(r)})}attributeChangedCallback(e,r,s){this._$AK(e,s)}_$ET(e,r){var a;const s=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,s);if(n!==void 0&&s.reflect===!0){const o=(((a=s.converter)==null?void 0:a.toAttribute)!==void 0?s.converter:Es).toAttribute(r,s.type);this._$Em=e,o==null?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(e,r){var a,o;const s=this.constructor,n=s._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const i=s.getPropertyOptions(n),d=typeof i.converter=="function"?{fromAttribute:i.converter}:((a=i.converter)==null?void 0:a.fromAttribute)!==void 0?i.converter:Es;this._$Em=n,this[n]=d.fromAttribute(r,i.type)??((o=this._$Ej)==null?void 0:o.get(n))??null,this._$Em=null}}requestUpdate(e,r,s){var n;if(e!==void 0){const a=this.constructor,o=this[e];if(s??(s=a.getPropertyOptions(e)),!((s.hasChanged??wn)(o,r)||s.useDefault&&s.reflect&&o===((n=this._$Ej)==null?void 0:n.get(e))&&!this.hasAttribute(a._$Eu(e,s))))return;this.C(e,r,s)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:s,reflect:n,wrapped:a},o){s&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),a!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||s||(r=void 0),this._$AL.set(e,r)),n===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,o]of this._$Ep)this[a]=o;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[a,o]of n){const{wrapped:i}=o,d=this[a];i!==!0||this._$AL.has(a)||d===void 0||this.C(a,void 0,o,d)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(s=this._$EO)==null||s.forEach(n=>{var a;return(a=n.hostUpdate)==null?void 0:a.call(n)}),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdated)==null?void 0:n.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Pt.elementStyles=[],Pt.shadowRootOptions={mode:"open"},Pt[er("elementProperties")]=new Map,Pt[er("finalized")]=new Map,ls==null||ls({ReactiveElement:Pt}),(ct.reactiveElementVersions??(ct.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tr=globalThis,Zr=tr.trustedTypes,zs=Zr?Zr.createPolicy("lit-html",{createHTML:t=>t}):void 0,En="$lit$",it=`lit$${Math.random().toFixed(9).slice(2)}$`,yn="?"+it,wc=`<${yn}>`,Nt=document,_r=()=>Nt.createComment(""),wr=t=>t===null||typeof t!="object"&&typeof t!="function",vs=Array.isArray,Ec=t=>vs(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",ds=`[ 	
\f\r]`,qt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Gs=/-->/g,qs=/>/g,mt=RegExp(`>|${ds}(?:([^\\s"'>=/]+)(${ds}*=${ds}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Zs=/'/g,Ks=/"/g,An=/^(?:script|style|textarea|title)$/i,vn=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Fc=vn(1),jc=vn(2),$t=Symbol.for("lit-noChange"),fe=Symbol.for("lit-nothing"),Ys=new WeakMap,Ct=Nt.createTreeWalker(Nt,129);function Nn(t,e){if(!vs(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return zs!==void 0?zs.createHTML(e):e}const yc=(t,e)=>{const r=t.length-1,s=[];let n,a=e===2?"<svg>":e===3?"<math>":"",o=qt;for(let i=0;i<r;i++){const d=t[i];let l,p,h=-1,C=0;for(;C<d.length&&(o.lastIndex=C,p=o.exec(d),p!==null);)C=o.lastIndex,o===qt?p[1]==="!--"?o=Gs:p[1]!==void 0?o=qs:p[2]!==void 0?(An.test(p[2])&&(n=RegExp("</"+p[2],"g")),o=mt):p[3]!==void 0&&(o=mt):o===mt?p[0]===">"?(o=n??qt,h=-1):p[1]===void 0?h=-2:(h=o.lastIndex-p[2].length,l=p[1],o=p[3]===void 0?mt:p[3]==='"'?Ks:Zs):o===Ks||o===Zs?o=mt:o===Gs||o===qs?o=qt:(o=mt,n=void 0);const w=o===mt&&t[i+1].startsWith("/>")?" ":"";a+=o===qt?d+wc:h>=0?(s.push(l),d.slice(0,h)+En+d.slice(h)+it+w):d+it+(h===-2?i:w)}return[Nn(t,a+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),s]};class Er{constructor({strings:e,_$litType$:r},s){let n;this.parts=[];let a=0,o=0;const i=e.length-1,d=this.parts,[l,p]=yc(e,r);if(this.el=Er.createElement(l,s),Ct.currentNode=this.el.content,r===2||r===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(n=Ct.nextNode())!==null&&d.length<i;){if(n.nodeType===1){if(n.hasAttributes())for(const h of n.getAttributeNames())if(h.endsWith(En)){const C=p[o++],w=n.getAttribute(h).split(it),z=/([.?@])?(.*)/.exec(C);d.push({type:1,index:a,name:z[2],strings:w,ctor:z[1]==="."?vc:z[1]==="?"?Nc:z[1]==="@"?bc:Xr}),n.removeAttribute(h)}else h.startsWith(it)&&(d.push({type:6,index:a}),n.removeAttribute(h));if(An.test(n.tagName)){const h=n.textContent.split(it),C=h.length-1;if(C>0){n.textContent=Zr?Zr.emptyScript:"";for(let w=0;w<C;w++)n.append(h[w],_r()),Ct.nextNode(),d.push({type:2,index:++a});n.append(h[C],_r())}}}else if(n.nodeType===8)if(n.data===yn)d.push({type:2,index:a});else{let h=-1;for(;(h=n.data.indexOf(it,h+1))!==-1;)d.push({type:7,index:a}),h+=it.length-1}a++}}static createElement(e,r){const s=Nt.createElement("template");return s.innerHTML=e,s}}function Ft(t,e,r=t,s){var o,i;if(e===$t)return e;let n=s!==void 0?(o=r._$Co)==null?void 0:o[s]:r._$Cl;const a=wr(e)?void 0:e._$litDirective$;return(n==null?void 0:n.constructor)!==a&&((i=n==null?void 0:n._$AO)==null||i.call(n,!1),a===void 0?n=void 0:(n=new a(t),n._$AT(t,r,s)),s!==void 0?(r._$Co??(r._$Co=[]))[s]=n:r._$Cl=n),n!==void 0&&(e=Ft(t,n._$AS(t,e.values),n,s)),e}class Ac{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:s}=this._$AD,n=((e==null?void 0:e.creationScope)??Nt).importNode(r,!0);Ct.currentNode=n;let a=Ct.nextNode(),o=0,i=0,d=s[0];for(;d!==void 0;){if(o===d.index){let l;d.type===2?l=new Nr(a,a.nextSibling,this,e):d.type===1?l=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(l=new Tc(a,this,e)),this._$AV.push(l),d=s[++i]}o!==(d==null?void 0:d.index)&&(a=Ct.nextNode(),o++)}return Ct.currentNode=Nt,n}p(e){let r=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(e,s,r),r+=s.strings.length-2):s._$AI(e[r])),r++}}class Nr{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,s,n){this.type=2,this._$AH=fe,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=s,this.options=n,this._$Cv=(n==null?void 0:n.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Ft(this,e,r),wr(e)?e===fe||e==null||e===""?(this._$AH!==fe&&this._$AR(),this._$AH=fe):e!==this._$AH&&e!==$t&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Ec(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==fe&&wr(this._$AH)?this._$AA.nextSibling.data=e:this.T(Nt.createTextNode(e)),this._$AH=e}$(e){var a;const{values:r,_$litType$:s}=e,n=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=Er.createElement(Nn(s.h,s.h[0]),this.options)),s);if(((a=this._$AH)==null?void 0:a._$AD)===n)this._$AH.p(r);else{const o=new Ac(n,this),i=o.u(this.options);o.p(r),this.T(i),this._$AH=o}}_$AC(e){let r=Ys.get(e.strings);return r===void 0&&Ys.set(e.strings,r=new Er(e)),r}k(e){vs(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let s,n=0;for(const a of e)n===r.length?r.push(s=new Nr(this.O(_r()),this.O(_r()),this,this.options)):s=r[n],s._$AI(a),n++;n<r.length&&(this._$AR(s&&s._$AB.nextSibling,n),r.length=n)}_$AR(e=this._$AA.nextSibling,r){var s;for((s=this._$AP)==null?void 0:s.call(this,!1,!0,r);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class Xr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,s,n,a){this.type=1,this._$AH=fe,this._$AN=void 0,this.element=e,this.name=r,this._$AM=n,this.options=a,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=fe}_$AI(e,r=this,s,n){const a=this.strings;let o=!1;if(a===void 0)e=Ft(this,e,r,0),o=!wr(e)||e!==this._$AH&&e!==$t,o&&(this._$AH=e);else{const i=e;let d,l;for(e=a[0],d=0;d<a.length-1;d++)l=Ft(this,i[s+d],r,d),l===$t&&(l=this._$AH[d]),o||(o=!wr(l)||l!==this._$AH[d]),l===fe?e=fe:e!==fe&&(e+=(l??"")+a[d+1]),this._$AH[d]=l}o&&!n&&this.j(e)}j(e){e===fe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class vc extends Xr{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===fe?void 0:e}}class Nc extends Xr{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==fe)}}class bc extends Xr{constructor(e,r,s,n,a){super(e,r,s,n,a),this.type=5}_$AI(e,r=this){if((e=Ft(this,e,r,0)??fe)===$t)return;const s=this._$AH,n=e===fe&&s!==fe||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,a=e!==fe&&(s===fe||n);n&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class Tc{constructor(e,r,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){Ft(this,e)}}const us=tr.litHtmlPolyfillSupport;us==null||us(Er,Nr),(tr.litHtmlVersions??(tr.litHtmlVersions=[])).push("3.3.0");const Sc=(t,e,r)=>{const s=(r==null?void 0:r.renderBefore)??e;let n=s._$litPart$;if(n===void 0){const a=(r==null?void 0:r.renderBefore)??null;s._$litPart$=n=new Nr(e.insertBefore(_r(),a),a,void 0,r??{})}return n._$AI(t),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wt=globalThis;class Dr extends Pt{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Sc(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return $t}}var en;Dr._$litElement$=!0,Dr.finalized=!0,(en=wt.litElementHydrateSupport)==null||en.call(wt,{LitElement:Dr});const ps=wt.litElementPolyfillSupport;ps==null||ps({LitElement:Dr});(wt.litElementVersions??(wt.litElementVersions=[])).push("4.2.0");let rr,lt,dt;function Hc(t,e){rr=document.createElement("style"),lt=document.createElement("style"),dt=document.createElement("style"),rr.textContent=Lt(t).core.cssText,lt.textContent=Lt(t).dark.cssText,dt.textContent=Lt(t).light.cssText,document.head.appendChild(rr),document.head.appendChild(lt),document.head.appendChild(dt),bn(e)}function bn(t){lt&&dt&&(t==="light"?(lt.removeAttribute("media"),dt.media="enabled"):(dt.removeAttribute("media"),lt.media="enabled"))}function Ic(t){rr&&lt&&dt&&(rr.textContent=Lt(t).core.cssText,lt.textContent=Lt(t).dark.cssText,dt.textContent=Lt(t).light.cssText)}function Lt(t){return{core:Dt`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ue(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ue((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ue((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ue((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ue((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Dt`
      :root {
        --w3m-color-mix: ${Ue((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ue(Xe(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ue(Xe(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Dt`
      :root {
        --w3m-color-mix: ${Ue((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ue(Xe(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ue(Xe(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Vc=Dt`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,zc=Dt`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Gc=Dt`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,xt={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function br(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Js=br({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Xs=br({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});br({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});br({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});br({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Tn={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},sr={getMethodsByChainNamespace(t){return Tn[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},s=new Set;if(e.methods&&Object.keys(e.methods).forEach(n=>s.add(n)),e.chains&&Object.keys(e.chains).forEach(n=>s.add(n)),e.events&&Object.keys(e.events).forEach(n=>s.add(n)),e.rpcMap&&Object.keys(e.rpcMap).forEach(n=>{const[a]=n.split(":");a&&s.add(a)}),s.forEach(n=>{r[n]||(r[n]=this.createDefaultNamespace(n))}),e.methods&&Object.entries(e.methods).forEach(([n,a])=>{r[n]&&(r[n].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([n,a])=>{r[n]&&(r[n].chains=a)}),e.events&&Object.entries(e.events).forEach(([n,a])=>{r[n]&&(r[n].events=a)}),e.rpcMap){const n=new Set;Object.entries(e.rpcMap).forEach(([a,o])=>{const[i,d]=a.split(":");!i||!d||!r[i]||(r[i].rpcMap||(r[i].rpcMap={}),n.has(i)||(r[i].rpcMap={},n.add(i)),r[i].rpcMap[d]=o)})}return r},createNamespaces(t,e){const r=t.reduce((s,n)=>{const{id:a,chainNamespace:o,rpcUrls:i}=n,d=i.default.http[0];s[o]||(s[o]=this.createDefaultNamespace(o));const l=`${o}:${a}`,p=s[o];switch(p.chains.push(l),l){case Js.caipNetworkId:p.chains.push(Js.deprecatedCaipNetworkId);break;case Xs.caipNetworkId:p.chains.push(Xs.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&d&&(p.rpcMap[a]=d),s},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var s;const e=await Xt.resolveName(t);return((s=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:s.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],s=e.accounts.map(n=>{const[a,o]=n.split(":");return`${a}:${o}`});return Array.from(new Set([...r,...s]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const s of[...e,...r])if(s.includes("*")){const a=`^${s.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(t))return!0}else if(s===t)return!0;return!1}};class Sn{constructor({provider:e,namespace:r}){this.id=R.CONNECTOR_ID.WALLET_CONNECT,this.name=Mr.ConnectorNamesMap[R.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Mr.ConnectorImageIds[R.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=u.getCaipNetworks.bind(u),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),s=f.state.universalProviderConfigOverride,n=sr.createNamespaces(r,s);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Jt.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Rc})}}const Rc=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class kc{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=r=>u.getCaipNetworks(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:R.CONNECTOR_ID.AUTH,type:"AUTH",name:R.CONNECTOR_NAMES.AUTH,provider:e,imageId:Mr.ConnectorImageIds[R.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(s=>r.has(s.id)?!1:(r.add(s.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){I.setStatus(e,r)}on(e,r){var s;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(s=this.eventListeners.get(e))==null||s.add(r)}off(e,r){const s=this.eventListeners.get(e);s&&s.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const s=this.eventListeners.get(e);s&&s.forEach(n=>n(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var a;const{caipNetwork:r,providerType:s}=e;if(!e.provider)return;const n="provider"in e.provider?e.provider.provider:e.provider;if(s==="WALLET_CONNECT"){n.setDefaultChain(r.caipNetworkId);return}if(n&&s==="AUTH"){const o=n,i=(a=I.state.preferredAccountTypes)==null?void 0:a[r.chainNamespace];await o.switchNetwork(r.caipNetworkId);const d=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:i});this.emit("switchNetwork",d)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof Sn);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Oc extends kc{setUniversalProvider(e){this.addConnector(new Sn({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var n,a,o,i;const r=this.provider,s=((i=(o=(a=(n=r==null?void 0:r.session)==null?void 0:n.namespaces)==null?void 0:a[e])==null?void 0:o.accounts)==null?void 0:i.map(d=>{const[,,l]=d.split(":");return l}).filter((d,l,p)=>p.indexOf(d)===l))||[];return Promise.resolve({accounts:s.map(d=>U.createAccount(e,d,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var a,o,i,d,l;if(!(e.caipNetwork&&me.BALANCE_SUPPORTED_CHAINS.includes((a=e.caipNetwork)==null?void 0:a.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((i=e.caipNetwork)==null?void 0:i.nativeCurrency.symbol)||""};if(I.state.balanceLoading&&e.chainId===((d=u.state.activeCaipNetwork)==null?void 0:d.id))return{balance:I.state.balance||"0.00",symbol:I.state.balanceSymbol||""};const n=(await I.fetchTokenBalance()).find(p=>{var h,C;return p.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&p.symbol===((C=e.caipNetwork)==null?void 0:C.nativeCurrency.symbol)});return{balance:(n==null?void 0:n.quantity.numeric)||"0.00",symbol:(n==null?void 0:n.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,i,d;const{provider:r,message:s,address:n}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return((o=u.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===R.CHAIN.SOLANA?a=(await r.request({method:"solana_signMessage",params:{message:Ln.encode(new TextEncoder().encode(s)),pubkey:n}},(i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)).signature:a=await r.request({method:"personal_sign",params:[s,n]},(d=u.state.activeCaipNetwork)==null?void 0:d.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var n,a,o,i,d,l;const{caipNetwork:r}=e,s=this.getWalletConnectConnector();if(r.chainNamespace===R.CHAIN.EVM)try{await((n=s.provider)==null?void 0:n.request({method:"wallet_switchEthereumChain",params:[{chainId:Ns(r.id)}]}))}catch(p){if(p.code===xt.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===xt.ERROR_INVALID_CHAIN_ID||p.code===xt.ERROR_CODE_DEFAULT||((o=(a=p==null?void 0:p.data)==null?void 0:a.originalError)==null?void 0:o.code)===xt.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=s.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Ns(r.id),rpcUrls:[(i=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:i.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(d=r.blockExplorers)==null?void 0:d.default.url]}]}))}catch{throw new Error("Chain is not supported")}}s.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(s=>s.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Pc{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(r,s)=>{var n,a,o,i;if(r){const d=(a=(n=u.getNetworkData(r))==null?void 0:n.requestedCaipNetworks)==null?void 0:a.find(h=>h.id===s);if(d)return d;const l=(o=u.getNetworkData(r))==null?void 0:o.caipNetwork;return l||((i=u.getRequestedCaipNetworks(r).filter(h=>h.chainNamespace===r))==null?void 0:i[0])}return u.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>u.getCaipNetworks(r),this.getActiveChainNamespace=()=>u.state.activeChain,this.setRequestedCaipNetworks=(r,s)=>{u.setRequestedCaipNetworks(r,s)},this.getApprovedCaipNetworkIds=()=>u.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>u.state.activeChain===r||!r?u.state.activeCaipAddress:u.getAccountProp("caipAddress",r),this.setClientId=r=>{M.setClientId(r)},this.getProvider=r=>se.getProvider(r),this.getProviderType=r=>se.getProviderId(r),this.getPreferredAccountType=r=>{var s;return(s=I.state.preferredAccountTypes)==null?void 0:s[r]},this.setCaipAddress=(r,s)=>{I.setCaipAddress(r,s)},this.setBalance=(r,s,n)=>{I.setBalance(r,s,n)},this.setProfileName=(r,s)=>{I.setProfileName(r,s)},this.setProfileImage=(r,s)=>{I.setProfileImage(r,s)},this.setUser=(r,s)=>{I.setUser(r,s),f.state.enableEmbedded&&ue.close()},this.resetAccount=r=>{I.resetAccount(r)},this.setCaipNetwork=r=>{u.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,s)=>{u.setChainNetworkData(s,{caipNetwork:r})},this.setAllAccounts=(r,s)=>{I.setAllAccounts(r,s),f.setHasMultipleAddresses((r==null?void 0:r.length)>1)},this.setStatus=(r,s)=>{I.setStatus(r,s),v.isConnected()?S.setConnectionStatus("connected"):S.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>u.getAccountProp("address",r),this.setConnectors=r=>{const s=[...v.state.allConnectors,...r];v.setConnectors(s)},this.setConnections=(r,s)=>{D.setConnections(r,s)},this.fetchIdentity=r=>M.fetchIdentity(r),this.getReownName=r=>Xt.getNamesForAddress(r),this.getConnectors=()=>v.getConnectors(),this.getConnectorImage=r=>on.getConnectorImage(r),this.setConnectedWalletInfo=(r,s)=>{const n=se.getProviderId(s),a=r?{...r,type:n}:void 0;I.setConnectedWalletInfo(a,s)},this.getIsConnectedState=()=>!!u.state.activeCaipAddress,this.addAddressLabel=(r,s,n)=>{I.addAddressLabel(r,s,n)},this.removeAddressLabel=(r,s)=>{I.removeAddressLabel(r,s)},this.getAddress=r=>u.state.activeChain===r||!r?I.state.address:u.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>u.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{u.resetNetwork(r)},this.addConnector=r=>{v.addConnector(r)},this.resetWcConnection=()=>{D.resetWcConnection()},this.setAddressExplorerUrl=(r,s)=>{I.setAddressExplorerUrl(r,s)},this.setSmartAccountDeployed=(r,s)=>{I.setSmartAccountDeployed(r,s)},this.setSmartAccountEnabledNetworks=(r,s)=>{u.setSmartAccountEnabledNetworks(r,s)},this.setPreferredAccountType=(r,s)=>{I.setPreferredAccountType(r,s)},this.setEIP6963Enabled=r=>{f.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,r){const s=e==null?void 0:e.map(a=>a.namespace).filter(a=>!!a);if(s!=null&&s.length)return[...new Set(s)];const n=r==null?void 0:r.map(a=>a.chainNamespace);return[...new Set(n)]}async initialize(e){var r,s,n;this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Ge.set({initialized:!0}),await this.syncExistingConnection(),((r=f.state.features)!=null&&r.email||Array.isArray((s=f.state.features)==null?void 0:s.socials)&&((n=f.state.features)==null?void 0:n.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await x.fetchAllowedOrigins();if(e&&U.isClient()){const r=window.location.origin;sr.isOriginAllowed(r,e,xt.DEFAULT_ALLOWED_ANCESTORS)||Je.open(Ve.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else Je.open(Ve.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var s;const{...r}=e;delete r.adapters,delete r.universalProvider,ie.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:((s=e.siweConfig)==null?void 0:s.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Te.setThemeMode(e.themeMode),e.themeVariables&&Te.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");u.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&u.setActiveCaipNetwork(r)}initializeConnectionController(e){D.setWcBasic(e.basic??!1)}initializeConnectorController(){v.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;f.setDebug(e.debug!==!1),f.setEnableWalletConnect(e.enableWalletConnect!==!1),f.setEnableWalletGuide(e.enableWalletGuide!==!1),f.setEnableWallets(e.enableWallets!==!1),f.setEIP6963Enabled(e.enableEIP6963!==!1),f.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),f.setEnableAuthLogger(e.enableAuthLogger!==!1),f.setCustomRpcUrls(e.customRpcUrls),f.setSdkVersion(e.sdkVersion),f.setProjectId(e.projectId),f.setEnableEmbedded(e.enableEmbedded),f.setAllWallets(e.allWallets),f.setIncludeWalletIds(e.includeWalletIds),f.setExcludeWalletIds(e.excludeWalletIds),f.setFeaturedWalletIds(e.featuredWalletIds),f.setTokens(e.tokens),f.setTermsConditionsUrl(e.termsConditionsUrl),f.setPrivacyPolicyUrl(e.privacyPolicyUrl),f.setCustomWallets(e.customWallets),f.setFeatures(e.features),f.setAllowUnsupportedChain(e.allowUnsupportedChain),f.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),f.setPreferUniversalLinks(e.experimental_preferUniversalLinks),f.setDefaultAccountTypes(e.defaultAccountTypes);const r=S.getPreferredAccountTypes()||{},s={...f.state.defaultAccountTypes,...r};I.setPreferredAccountTypes(s);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),f.setMetadata(e.metadata),f.setDisableAppend(e.disableAppend),f.setEnableEmbedded(e.enableEmbedded),f.setSIWX(e.siwx),!e.projectId){Je.open(Ve.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(i=>i.namespace===R.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");f.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,s,n;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((s=document.querySelector('meta[property="og:description"]'))==null?void 0:s.content)||"",url:window.location.origin,icons:[((n=document.querySelector('link[rel~="icon"]'))==null?void 0:n.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const s=kt.getUnsupportedNetwork(`${r}:${e}`);u.setActiveCaipNetwork(s)}}getDefaultNetwork(){return kt.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return kt.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return kt.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(n=>{var a;return n.id===((a=e.defaultNetwork)==null?void 0:a.id)});return r?kt.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var a;const e=u.state.activeChain,r=this.getAdapter(e),s=(a=this.getCaipNetwork(e))==null?void 0:a.id;if(!r)throw new Error("Adapter not found");const n=await r.connectWalletConnect(s);this.close(),this.setClientId((n==null?void 0:n.clientId)||null),S.setConnectedNamespaces([...u.state.chains.keys()]),this.chainNamespaces.forEach(o=>{v.setConnectorId(Se.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:s,provider:n,chain:a,caipNetwork:o,socialUri:i})=>{var g,b,k,ne,$,X;const d=u.state.activeChain,l=a||d,p=this.getAdapter(l);if(a&&a!==d&&!o){const he=this.getCaipNetworks().find(Oe=>Oe.chainNamespace===a);he&&this.setCaipNetwork(he)}if(!p)throw new Error("Adapter not found");const h=this.getCaipNetwork(l),C=await p.connect({id:e,info:r,type:s,provider:n,socialUri:i,chainId:(o==null?void 0:o.id)||(h==null?void 0:h.id),rpcUrl:((k=(b=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:b.http)==null?void 0:k[0])||((X=($=(ne=h==null?void 0:h.rpcUrls)==null?void 0:ne.default)==null?void 0:$.http)==null?void 0:X[0])});if(!C)return;S.addConnectedNamespace(l),this.syncProvider({...C,chainNamespace:l});const w=I.state.allAccounts,{accounts:z}=(w==null?void 0:w.length)>0?{accounts:[...w]}:await p.getAccounts({namespace:l,id:e});this.setAllAccounts(z,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:r,type:s,provider:n})=>{var i;const a=u.state.activeChain,o=this.getAdapter(a);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:s,provider:n,chainId:(i=this.getCaipNetwork())==null?void 0:i.id})),S.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const r=e||u.state.activeChain,s=this.getAdapter(r),n=se.getProvider(r),a=se.getProviderId(r);await(s==null?void 0:s.disconnect({provider:n,providerType:a})),S.removeConnectedNamespace(r),se.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r)},checkInstalled:e=>e?e.some(r=>{var s;return!!((s=window.ethereum)!=null&&s[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(u.state.activeChain),s=await(r==null?void 0:r.signMessage({message:e,address:I.state.address,provider:se.getProvider(u.state.activeChain)}));return(s==null?void 0:s.signature)||""},sendTransaction:async e=>{const r=e.chainNamespace;if(me.SEND_SUPPORTED_NAMESPACES.includes(r)){const s=this.getAdapter(u.state.activeChain),n=se.getProvider(r),a=await(s==null?void 0:s.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}));return(a==null?void 0:a.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===R.CHAIN.EVM){const r=this.getAdapter(u.state.activeChain),s=se.getProvider(u.state.activeChain),n=this.getCaipNetwork();if(!n)throw new Error("CaipNetwork is undefined");const a=await(r==null?void 0:r.estimateGas({...e,provider:s,caipNetwork:n}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:I.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:u.state.activeChain}),I.state.profileImage||!1},getEnsAddress:async e=>await sr.resolveReownName(e),writeContract:async e=>{const r=this.getAdapter(u.state.activeChain),s=this.getCaipNetwork(),n=this.getCaipAddress(),a=se.getProvider(u.state.activeChain);if(!s||!n)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(r==null?void 0:r.writeContract({...e,caipNetwork:s,provider:a,caipAddress:n}));return o==null?void 0:o.hash},parseUnits:(e,r)=>{const s=this.getAdapter(u.state.activeChain);return(s==null?void 0:s.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const s=this.getAdapter(u.state.activeChain);return(s==null?void 0:s.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(u.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(u.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(u.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(u.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!I.state.address||this.updateNativeBalance(I.state.address,r==null?void 0:r.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},D.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,s,n,a,o;if(se.getProviderId(u.state.activeChain)===Se.CONNECTOR_TYPE_WALLET_CONNECT){const i=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces;return{supportsAllNetworks:((o=(a=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:a.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(i)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const n=se.getProvider(r),a=se.getProviderId(r);if(e.chainNamespace===u.state.activeChain){const o=this.getAdapter(r);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:n,providerType:a}))}else if(this.setCaipNetwork(e),a===Se.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const s=r.chains||[],n=r.accounts.map(a=>{const{chainId:o,chainNamespace:i}=rt.parseCaipAddress(a);return`${i}:${o}`});return Array.from(new Set([...s,...n]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,s)=>{var a;const n=e==null?void 0:e.find(o=>o.namespace===s);return n?(n.construct({namespace:s,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),r[s]=n):r[s]=new Oc({namespace:s,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const s=S.getConnectionStatus();s==="connected"?this.setStatus("connecting",e):s==="disconnected"?(S.clearAddressCache(),this.setStatus(s,e)):this.setStatus(s,e),r.on("switchNetwork",({address:n,chainId:a})=>{const o=this.getCaipNetworks().find(l=>l.id===a||l.caipNetworkId===a),i=u.state.activeChain===e,d=u.getAccountProp("address",e);if(o){const l=i&&n?n:d;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("connections",n=>{this.setConnections(n,e)}),r.on("pendingTransactions",()=>{const n=I.state.address,a=u.state.activeCaipNetwork;!n||!(a!=null&&a.id)||this.updateNativeBalance(n,a.id,a.chainNamespace)}),r.on("accountChanged",({address:n,chainId:a})=>{var i,d;const o=u.state.activeChain===e;o&&a?this.syncAccount({address:n,chainId:a,chainNamespace:e}):o&&((i=u.state.activeCaipNetwork)!=null&&i.id)?this.syncAccount({address:n,chainId:(d=u.state.activeCaipNetwork)==null?void 0:d.id,chainNamespace:e}):this.syncAccountInfo(n,a,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var r,s,n;await this.getUniversalProvider(),this.universalProvider&&((n=(s=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:s.setUniversalProvider)==null||n.call(s,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=v.getConnectorId(e);switch(this.setStatus("connecting",e),r){case R.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case R.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,i,d;const r=this.getAdapter(e),s=v.getConnectorId(e),n=this.getCaipNetwork(e),a=v.getConnectors(e).find(l=>l.id===s);try{if(!r||!a)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(n!=null&&n.id))throw new Error("CaipNetwork not found");const l=await(r==null?void 0:r.syncConnection({namespace:e,id:a.id,chainId:n.id,rpcUrl:(d=(i=(o=n==null?void 0:n.rpcUrls)==null?void 0:o.default)==null?void 0:i.http)==null?void 0:d[0]}));if(l){const p=await(r==null?void 0:r.getAccounts({namespace:e,id:a.id}));p&&p.accounts.length>0?this.setAllAccounts(p.accounts,e):this.setAllAccounts([U.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var i,d,l,p,h;const s=this.getAdapter(r),n=((p=(l=(d=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:d.namespaces)==null?void 0:l[r])==null?void 0:p.accounts)||[],a=(h=u.state.activeCaipNetwork)==null?void 0:h.id,o=n.find(C=>{const{chainId:w}=rt.parseCaipAddress(C);return w===(a==null?void 0:a.toString())})||n[0];if(o){const C=rt.validateCaipAddress(o),{chainId:w,address:z}=rt.parseCaipAddress(C);if(se.setProviderId(r,Se.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&u.state.activeCaipNetwork&&(s==null?void 0:s.namespace)!==R.CHAIN.EVM){const g=s==null?void 0:s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:u.state.activeCaipNetwork});se.setProvider(r,g)}else se.setProvider(r,this.universalProvider);v.setConnectorId(R.CONNECTOR_ID.WALLET_CONNECT,r),S.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:z,chainId:w,chainNamespace:r})}else this.setStatus("disconnected",r);this.syncConnectedWalletInfo(r),await u.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var s,n,a,o,i;const r=(i=(o=(a=(n=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:n.namespaces)==null?void 0:a[e])==null?void 0:o.accounts)==null?void 0:i.map(d=>{const{address:l}=rt.parseCaipAddress(d);return l}).filter((d,l,p)=>p.indexOf(d)===l);r&&this.setAllAccounts(r.map(d=>U.createAccount(e,d,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:s,chainNamespace:n}){se.setProviderId(n,e),se.setProvider(n,r),v.setConnectorId(s,n)}async syncAllAccounts(e){const r=v.getConnectorId(e);if(!r)return;const s=this.getAdapter(e),n=await(s==null?void 0:s.getAccounts({namespace:e,id:r}));n&&n.accounts.length>0&&this.setAllAccounts(n.accounts,e)}async syncAccount(e){var h,C;const r=e.chainNamespace===u.state.activeChain,s=u.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:n,chainId:a,chainNamespace:o}=e,{chainId:i}=S.getActiveNetworkProps(),d=a||i,l=((h=u.state.activeCaipNetwork)==null?void 0:h.name)===R.UNSUPPORTED_NETWORK_NAME,p=u.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!p)&&d){let w=this.getCaipNetworks().find(b=>b.id.toString()===d.toString()),z=this.getCaipNetworks().find(b=>b.chainNamespace===o);if(!p&&!w&&!z){const b=this.getApprovedCaipNetworkIds()||[],k=b.find($=>{var X;return((X=rt.parseCaipNetworkId($))==null?void 0:X.chainId)===d.toString()}),ne=b.find($=>{var X;return((X=rt.parseCaipNetworkId($))==null?void 0:X.chainNamespace)===o});w=this.getCaipNetworks().find($=>$.caipNetworkId===k),z=this.getCaipNetworks().find($=>$.caipNetworkId===ne||"deprecatedCaipNetworkId"in $&&$.deprecatedCaipNetworkId===ne)}const g=w||z;(g==null?void 0:g.chainNamespace)===u.state.activeChain?f.state.enableNetworkSwitch&&!f.state.allowUnsupportedChain&&((C=u.state.activeCaipNetwork)==null?void 0:C.name)===R.UNSUPPORTED_NETWORK_NAME?u.showUnsupportedChainUI():this.setCaipNetwork(g):r||s&&this.setCaipNetworkOfNamespace(s,o),this.syncConnectedWalletInfo(o),Yr.isLowerCaseMatch(n,I.state.address)||this.syncAccountInfo(n,g==null?void 0:g.id,o),r?await this.syncBalance({address:n,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:n,chainId:s==null?void 0:s.id,chainNamespace:o})}}async syncAccountInfo(e,r,s){const n=this.getCaipAddress(s),a=r||(n==null?void 0:n.split(":")[1]);if(!a)return;const o=`${s}:${a}:${e}`;this.setCaipAddress(o,s),await this.syncIdentity({address:e,chainId:a,chainNamespace:s})}async syncReownName(e,r){try{const s=await this.getReownName(e);if(s[0]){const n=s[0];this.setProfileName(n.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var n;const r=v.getConnectorId(e),s=se.getProviderId(e);if(s===Se.CONNECTOR_TYPE_ANNOUNCED||s===Se.CONNECTOR_TYPE_INJECTED){if(r){const a=this.getConnectors().find(o=>o.id===r);if(a){const{info:o,name:i,imageUrl:d}=a,l=d||this.getConnectorImage(a);this.setConnectedWalletInfo({name:i,icon:l,...o},e)}}}else if(s===Se.CONNECTOR_TYPE_WALLET_CONNECT){const a=se.getProvider(e);a!=null&&a.session&&this.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(n=a.session.peer.metadata.icons)==null?void 0:n[0]},e)}else if(r&&r===R.CONNECTOR_ID.COINBASE){const a=this.getConnectors().find(o=>o.id===R.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(a)},e)}}async syncBalance(e){!sn.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(s=>{var n;return s.id.toString()===((n=e.chainId)==null?void 0:n.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,s){const n=this.getAdapter(s),a=u.getCaipNetworkByNamespace(s,r);if(n){const o=await n.getBalance({address:e,chainId:r,caipNetwork:a,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,s),o}}async initializeUniversalAdapter(){var s,n,a,o,i,d,l,p,h,C;const e=Fa.createLogger((w,...z)=>{w&&this.handleAlertError(w),console.error(...z)}),r={projectId:(s=this.options)==null?void 0:s.projectId,metadata:{name:(n=this.options)!=null&&n.metadata?(a=this.options)==null?void 0:a.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(i=this.options)==null?void 0:i.metadata.description:"",url:(d=this.options)!=null&&d.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};f.setManualWCControl(!!((C=this.options)!=null&&C.manualWCControl)),this.universalProvider=this.options.universalProvider??await Mn.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{D.setUri(e)}),this.universalProvider.on("connect",D.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),D.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const r=this.getCaipNetworks().find(n=>n.id==e),s=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(s==null?void 0:s.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(sr.isSessionEventData(e)){const{name:r,data:s}=e.params.event;r==="accountsChanged"&&Array.isArray(s)&&U.isCaipAddress(s[0])&&this.syncAccount(rt.parseCaipAddress(s[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&U.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){ie.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Ve.UniversalProviderErrors).find(([,{message:i}])=>e.message.includes(i)),[s,n]=r??[],{message:a,alertErrorKey:o}=n??{};if(s&&a&&!this.reportedAlertErrors[s]){const i=Ve.ALERT_ERRORS[o];i&&(Je.open(i,"error"),this.reportedAlertErrors[s]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var n;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const s=e;s.namespace=r,s.construct({namespace:r,projectId:(n=this.options)==null?void 0:n.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=s)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&D.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return ue.open({...e,data:{swap:e.arguments}})}return ue.open(e)}async close(e=!1){await this.injectModalUi(),ue.close(e)}setLoading(e,r){ue.setLoading(e,r)}async disconnect(e){await D.disconnect(e)}getSIWX(){return f.state.siwx}getError(){return""}getChainId(){var e;return(e=u.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const r=this.getCaipNetworks().find(s=>s.id===e.id);if(!r){Je.open(Ve.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await u.switchActiveNetwork(r)}getWalletProvider(){return u.state.activeChain?se.state.providers[u.state.activeChain]:null}getWalletProviderType(){return se.getProviderId(u.state.activeChain)}subscribeProviders(e){return se.subscribeProviders(e)}getThemeMode(){return Te.state.themeMode}getThemeVariables(){return Te.state.themeVariables}setThemeMode(e){Te.setThemeMode(e),bn(Te.state.themeMode)}setTermsConditionsUrl(e){f.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){f.setPrivacyPolicyUrl(e)}setThemeVariables(e){Te.setThemeVariables(e),Ic(Te.state.themeVariables)}subscribeTheme(e){return Te.subscribe(e)}getWalletInfo(){return I.state.connectedWalletInfo}getAccount(e){var o;const r=v.getAuthConnector(e),s=u.getAccountData(e),n=u.state.activeChain,a=S.getConnectedConnectorId(e);if(s)return{allAccounts:s.allAccounts,caipAddress:s.caipAddress,address:U.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&a===R.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:S.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:(o=s.preferredAccountTypes)==null?void 0:o[e||n],isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const s=()=>{const n=this.getAccount(r);n&&e(n)};r?u.subscribeChainProp("accountState",s,r):u.subscribe(s),v.subscribe(s)}subscribeNetwork(e){return u.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return I.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){I.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){u.subscribeKey("activeCaipNetwork",e)}getState(){return Ge.state}subscribeState(e){return Ge.subscribe(e)}showErrorMessage(e){We.showError(e)}showSuccessMessage(e){We.showSuccess(e)}getEvent(){return{...ie.state}}subscribeEvents(e){return ie.subscribe(e)}replace(e){q.replace(e)}redirect(e){q.push(e)}popTransactionStack(e){q.popTransactionStack(e)}isOpen(){return ue.state.open}isTransactionStackEmpty(){return q.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=q.state.transactionStack[q.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){f.setFeatures(e)}updateOptions(e){const s={...f.state||{},...e};f.setOptions(s)}setConnectMethodsOrder(e){f.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){f.setWalletFeaturesOrder(e)}setCollapseWallets(e){f.setCollapseWallets(e)}setSocialsOrder(e){f.setSocialsOrder(e)}getConnectMethodsOrder(){return ws.getConnectOrderMethod(f.state.features,v.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const s=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(n=>n.id===s.id)||u.addNetwork(s)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(n=>n.id===r)&&u.removeNetwork(e,r)}}let Qs=!1;class In extends Pc{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{ke.checkIfRequestExists(r)?ke.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(Ce.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(Ce.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((r,s)=>{const n=ke.checkIfRequestIsSafe(s),a=I.state.address,o=u.state.activeCaipNetwork;n||(this.isTransactionStackEmpty()?(this.close(!0),a&&(o!=null&&o.id)&&this.updateNativeBalance(a,o.id,o.chainNamespace)):(this.popTransactionStack(),a&&(o!=null&&o.id)&&this.updateNativeBalance(a,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const r=u.state.activeChain;v.getConnectorId(r)===R.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(r=>{var l,p;const s=u.state.activeChain,n=s===R.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`,a=f.state.defaultAccountTypes[s],o=(l=I.state.preferredAccountTypes)==null?void 0:l[s],i=r.preferredAccountType||o||a;Yr.isLowerCaseMatch(r.address,I.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:s}),this.setCaipAddress(n,s),this.setUser({...I.state.user||{},...r},s),this.setSmartAccountDeployed(!!r.smartAccountDeployed,s),this.setPreferredAccountType(i,s);const d=(p=r.accounts)==null?void 0:p.map(h=>U.createAccount(s,h.address,h.type||o||a));this.setAllAccounts(d||[U.createAccount(s,r.address,r.preferredAccountType||i)],s),this.setLoading(!1,s)}),e.onSocialConnected(({userName:r})=>{this.setUser({...I.state.user||{},username:r},u.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,u.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:s})=>{r&&this.setPreferredAccountType(s,u.state.activeChain)})}async syncAuthConnector(e,r){var p,h,C,w;const s=R.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!s)return;this.setLoading(!0,r);const n=e.getLoginEmailUsed();this.setLoading(n,r),n&&this.setStatus("connecting",r);const a=e.getEmail(),o=e.getUsername();this.setUser({...((p=I.state)==null?void 0:p.user)||{},username:o,email:a},u.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:i}=await e.isConnected(),d=Te.getSnapshot(),l=f.getSnapshot();await Promise.all([e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:d.themeMode,themeVariables:d.themeVariables,w3mThemeVariables:Xe(d.themeVariables,d.themeMode)})]),await e.getSmartAccountEnabledNetworks(),r&&s&&(i&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((w=this.connectionControllerClient)==null?void 0:w.connectExternal({id:R.CONNECTOR_ID.AUTH,info:{name:R.CONNECTOR_ID.AUTH},type:Se.CONNECTOR_TYPE_AUTH,provider:e,chainId:(C=u.state.activeCaipNetwork)==null?void 0:C.id,chain:r})),this.setStatus("connected",r)):v.getConnectorId(r)===R.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),S.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!U.isTelegram())return;const s=S.getTelegramSocialProvider();if(!s||typeof window>"u"||typeof document>"u")return;const a=new URL(window.location.href).searchParams.get("result_uri");if(!a)return;I.setSocialProvider(s,e),await((r=this.authProvider)==null?void 0:r.init());const o=v.getAuthConnector();s&&o&&(this.setLoading(!0,e),await D.connectExternal({id:o.id,type:o.type,socialUri:a},o.chain),S.setConnectedSocialProvider(s),S.removeTelegramSocialProvider(),ie.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:s}}))}catch(s){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",s)}try{const s=new URL(window.location.href);s.searchParams.delete("result_uri"),window.history.replaceState({},document.title,s.toString())}catch(s){console.error("tma social login failed",s)}}createAuthProvider(e){var o,i,d,l,p,h,C,w,z,g,b,k,ne;if(!R.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const s=((i=(o=this.options)==null?void 0:o.features)==null?void 0:i.email)===void 0?me.DEFAULT_FEATURES.email:(l=(d=this.options)==null?void 0:d.features)==null?void 0:l.email,n=(h=(p=this.options)==null?void 0:p.features)!=null&&h.socials?((z=(w=(C=this.options)==null?void 0:C.features)==null?void 0:w.socials)==null?void 0:z.length)>0:((b=(g=this.options)==null?void 0:g.features)==null?void 0:b.socials)??me.DEFAULT_FEATURES.socials,a=s||n;!this.authProvider&&((k=this.options)!=null&&k.projectId)&&a&&(this.authProvider=Qt.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(ne=this.getCaipNetwork(e))==null?void 0:ne.caipNetworkId,abortController:Ve.EmbeddedWalletAbortController,onTimeout:$=>{$==="iframe_load_failed"?Je.open(Ve.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):$==="iframe_request_timeout"?Je.open(Ve.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):$==="unverified_domain"&&Je.open(Ve.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ge.subscribeOpen($=>{var X;!$&&this.isTransactionStackEmpty()&&((X=this.authProvider)==null||X.rejectRpcRequests())}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,s,n;this.createAuthProvider(e),this.authProvider&&((n=(s=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:s.setAuthProvider)==null||n.call(s,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&x.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var a,o;if(!e)return;const r=u.state.activeChain,s=e.chainNamespace,n=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===u.state.activeChain&&n){const i=this.getAdapter(s),d=se.getProvider(s),l=se.getProviderId(s);await(i==null?void 0:i.switchNetwork({caipNetwork:e,provider:d,providerType:l})),this.setCaipNetwork(e)}else{const d=se.getProviderId(r)===Se.CONNECTOR_TYPE_AUTH,l=se.getProviderId(s),p=l===Se.CONNECTOR_TYPE_AUTH,h=R.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(s);if((d&&l===void 0||p)&&h)try{u.state.activeChain=e.chainNamespace,await((o=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:o.call(a,{id:R.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:s,chainId:e.id,type:Se.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const w=this.getAdapter(s);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===Se.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),n&&this.syncAccount({address:n,chainId:e.id,chainNamespace:s}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:s}){var o;const n=`${s}:${r}`,a=(o=this.caipNetworks)==null?void 0:o.find(i=>i.caipNetworkId===n);if(s!==R.CHAIN.EVM||a!=null&&a.testnet){this.setProfileName(null,s),this.setProfileImage(null,s);return}try{const{name:i,avatar:d}=await this.fetchIdentity({address:e,caipNetworkId:n});this.setProfileName(i,s),this.setProfileImage(d,s)}catch{await this.syncReownName(e,s),r!==1&&this.setProfileImage(null,s)}}syncConnectedWalletInfo(e){const r=se.getProviderId(e);if(r===Se.CONNECTOR_TYPE_AUTH){const s=this.authProvider;if(s){const n=S.getConnectedSocialProvider()??"email",a=s.getEmail()??s.getUsername();this.setConnectedWalletInfo({name:r,identifier:a,social:n},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!Qs&&U.isClient()){const e={...me.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(Me(()=>import("./embedded-wallet-BaZyBpry.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),e.email&&r.push(Me(()=>import("./email-Ck3GQuOU.js"),__vite__mapDeps([15,1,2,3,13,7,12,6,11,16,8,14]))),e.socials&&r.push(Me(()=>import("./socials-DQaciH6U.js"),__vite__mapDeps([17,1,2,3,18,6,19,20,12,21,11,7,13,22,5,23,24,14]))),e.swaps&&r.push(Me(()=>import("./swaps-C8Ed6MfV.js"),__vite__mapDeps([25,1,2,3,11,7,26,27,28,5,12,24,8,6,14]))),e.send&&r.push(Me(()=>import("./send-BrNQoxOK.js"),__vite__mapDeps([29,1,2,3,11,7,12,6,19,13,28,5,8,30,31,14]))),e.receive&&r.push(Me(()=>import("./receive-CH3hnI5j.js"),__vite__mapDeps([32,1,2,3,33,5,22,23,14]))),e.onramp&&r.push(Me(()=>import("./onramp-D3QiAyuU.js"),__vite__mapDeps([34,1,2,3,35,24,12,5,7,36,18,6,19,37,13,11,21,8,14]))),e.history&&r.push(Me(()=>import("./transactions-b9iiq9ex.js"),__vite__mapDeps([38,1,2,3,39,35,24,12,13,5,14]))),e.pay&&r.push(Me(()=>import("./index-ByNen3Cg.js"),__vite__mapDeps([40,1,2,3,11,7,41,5,12,9,36,31,21,14])))),await Promise.all([...r,Me(()=>import("./index-FY7Tj-7j.js"),__vite__mapDeps([42,1,2,3,5,7,30,12,43,27,9,36,11,10,41,39,35,24,13,26,6,8,31,16,18,19,20,4,21,33,22,23,37,14])),Me(()=>import("./w3m-modal-CoujcxYL.js"),__vite__mapDeps([44,1,2,3,9,5,12,10,7,27,43,14]))]),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!f.state.disableAppend&&!f.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}Qs=!0}}}const xc="1.7.6";function Uc(t){return new In({...t,sdkVersion:U.generateSdkVersion(t.adapters??[],"html",xc)})}const qc=Object.freeze(Object.defineProperty({__proto__:null,AccountController:I,AppKit:In,CoreHelperUtil:U,DEFAULT_METHODS:Tn,WcConstantsUtil:xt,WcHelpersUtil:sr,createAppKit:Uc},Symbol.toStringTag,{value:"Module"}));export{Jt as $,I as A,we as B,v as C,jc as D,Xt as E,M as F,De as G,Ps as H,J as I,on as J,Mc as K,x as L,ue as M,ta as N,f as O,Bc as P,Yt as Q,q as R,We as S,Te as T,Be as U,rt as V,Ce as W,aa as X,se as Y,ws as Z,xr as _,Dr as a,Hc as a0,qc as a1,me as b,R as c,U as d,u as e,ie as f,Xe as g,wn as h,Dt as i,$t as j,Gc as k,fe as l,zc as m,ke as n,D as o,Se as p,lc as q,Vc as r,Je as s,dc as t,Es as u,S as v,Ve as w,Fc as x,ce as y,ye as z};
